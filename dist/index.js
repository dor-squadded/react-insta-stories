!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("Stories",["React"],t):"object"==typeof exports?exports.Stories=t(require("react")):e.Stories=t(e.React)}(this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=n(r(0));t.initialContext={defaultInterval:4e3,width:360,height:640};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=n(r(0));t.initialContext={stories:[]};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.default=o.default.createContext({currentId:0,videoDuration:0,bufferAction:!1,pause:!1,next:function(){}})},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(0)),a=o(r(17));t.default=function(e){var t=e.story,r=e.globalHeader,o=e.children;return i.default.createElement(i.default.Fragment,null,o,t.header&&i.default.createElement("div",{style:{position:"absolute",left:12,top:20,zIndex:19}},"object"===n(t)?r?r(t.header):i.default.createElement(a.default,{heading:t.header.heading,subheading:t.header.subheading,profileImage:t.header.profileImage}):null))}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),f=l(r(18));t.default=function(e){var t=e.story,r=e.action,o=e.customCollapsed,i=e.children,a=n(c.useState(!1),2),u=a[0],l=a[1],s=f.default;return c.default.createElement(c.default.Fragment,null,i,t.seeMore&&c.default.createElement("div",{style:{position:"absolute",margin:"auto",bottom:u?"unset":0,zIndex:9999,width:"100%",height:u?"100%":"auto"}},c.default.createElement(s,{action:r,toggleMore:function(e){r(e?"pause":"play"),l(e)},showContent:u,seeMoreContent:t.seeMore,customCollapsed:o||t.seeMoreCollapsed})))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=n(r(16));t.default=function(){return o.default.createElement(i.default,null)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return u(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WithSeeMore=t.WithHeader=void 0;var f=l(r(0)),s=c(r(8)),d=c(r(1)),y=c(r(2)),p=r(13),h=r(14),m=c(r(4)),v=c(r(5)),b=function(e){var t=e.renderers?e.renderers.concat(h.renderers):h.renderers,r={width:e.width,height:e.height,loader:e.loader,header:e.header,storyContainerStyles:e.storyContainerStyles,storyStyles:e.storyStyles,loop:e.loop,defaultInterval:e.defaultInterval,isPaused:e.isPaused,currentIndex:e.currentIndex,onStoryStart:e.onStoryStart,onStoryEnd:e.onStoryEnd,onAllStoriesEnd:e.onAllStoriesEnd,keyboardNavigation:e.keyboardNavigation,preventDefault:e.preventDefault,topStoriesProgressStyles:e.topStoriesProgressStyles},n=o(f.useState({stories:g(e.stories,t)}),2),i=n[0],a=n[1];return f.useEffect((function(){a({stories:g(e.stories,t)})}),[e.stories,e.renderers]),f.default.createElement(d.default.Provider,{value:r},f.default.createElement(y.default.Provider,{value:i},f.default.createElement(s.default,null)))},g=function(e,t){return e.map((function(e){var r={};"string"==typeof e?(r.url=e,r.type="image"):"object"===n(e)&&(r=Object.assign(r,e));var o=p.getRenderer(r,t);return r.originalContent=r.content,r.content=o,r}))};b.defaultProps={width:360,height:640,defaultInterval:4e3},t.WithHeader=m.default,t.WithSeeMore=v.default,t.default=b},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),f=l(r(1)),s=l(r(2)),d=l(r(3)),y=l(r(9)),p=l(r(10));t.default=function(){var e=n(c.useState(0),2),t=e[0],r=e[1],o=n(c.useState(!0),2),i=o[0],a=o[1],u=n(c.useState(!0),2),l=u[0],m=u[1],v=n(c.useState(0),2),b=v[0],g=v[1],_=c.useRef(),O=c.useRef(!0),j=c.useContext(f.default),S=j.width,w=j.height,x=j.loop,M=j.currentIndex,E=j.isPaused,P=j.keyboardNavigation,A=j.preventDefault,C=j.storyContainerStyles,I=void 0===C?{}:C,D=j.onAllStoriesEnd,k=c.useContext(s.default).stories;c.useEffect((function(){"number"==typeof M&&(M>=0&&M<k.length?z((function(){return M})):console.error("Index out of bounds. Current index was set to value more than the length of stories array.",M))}),[M]),c.useEffect((function(){"boolean"==typeof E&&a(E)}),[E]),c.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof P&&P)return document.addEventListener("keydown",T),function(){document.removeEventListener("keydown",T)}}),[P]),c.useEffect((function(){return function(){O.current=!1}}),[]);var T=function(e){"ArrowLeft"===e.key?B():"ArrowRight"===e.key&&W()},R=function(e,t){a("pause"===e),m(!!t)},z=function(e){r(e),R("pause",!0)},B=function(){0===t&&D&&D(),z((function(e){return e>0?e-1:e}))},W=function(){O.current&&(x?N():U())},N=function(){z((function(e){return(e+1)%k.length}))},U=function(){z((function(e){return e<k.length-1?e+1:(D&&D(!0),e)}))},H=function(e){e.preventDefault(),_.current=setTimeout((function(){R("pause")}),200)},V=function(e){return function(t){t.preventDefault(),_.current&&clearTimeout(_.current),i?R("play"):"next"===e?W():B()}};return c.default.createElement("div",{className:"main-story-container",style:Object.assign(Object.assign(Object.assign({},h.container),I),{width:S,height:w}),onTouchStart:H,onMouseDown:H,onTouchEnd:H,onMouseUp:H},c.default.createElement(d.default.Provider,{value:{bufferAction:l,videoDuration:b,currentId:t,pause:i,next:W}},c.default.createElement(p.default,null)),c.default.createElement(y.default,{action:R,bufferAction:l,playState:i,story:k[t],getVideoDuration:function(e){g(1e3*e)}}),!A&&c.default.createElement("div",{style:h.overlay},c.default.createElement("div",{className:"previous-story-button",style:{width:"50%",zIndex:999},onClick:V("previous")}),c.default.createElement("div",{className:"next-story-button",style:{width:"50%",zIndex:999},onClick:V("next")})))};var h={container:{display:"flex",flexDirection:"column",background:"#111",position:"relative"},overlay:{position:"absolute",height:"inherit",width:"inherit",display:"flex"}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(1)),c={story:{display:"flex",position:"relative",overflow:"hidden",alignItems:"center"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.default=function(e){var t,r,n=u.useContext(l.default),o=n.width,i=n.height,a=n.loader,f=n.header,s=n.storyStyles,d=function(t,r){switch(t){case"UPDATE_VIDEO_DURATION":return e.getVideoDuration(r.duration),{ack:"OK"}}};return u.default.createElement("div",{style:Object.assign(Object.assign({},c.story),{width:o,height:i})},(t=e.story.content,r={width:o,height:i,loader:a,header:f,storyStyles:s},u.default.createElement(t,{action:e.action,isPaused:e.playState,story:e.story,config:r,messageHandler:d})))}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),f=l(r(11)),s=l(r(3)),d=l(r(1)),y=l(r(2));t.default=function(){var e=n(c.useState(0),2),t=e[0],r=e[1],o=c.useContext(s.default),i=o.currentId,a=o.next,u=o.videoDuration,l=o.pause,h=c.useContext(d.default),m=h.defaultInterval,v=h.onStoryEnd,b=h.onStoryStart,g=h.onAllStoriesEnd,_=h.topStoriesProgressStyles,O=c.useContext(y.default).stories;c.useEffect((function(){r(0)}),[i,O]),c.useEffect((function(){return l||(j.current=requestAnimationFrame(w)),function(){cancelAnimationFrame(j.current)}}),[i,l]);var j=c.useRef(),S=t,w=function e(){0===S&&x(),r((function(e){var t=P();return S=e+100/(t/1e3*60),e+100/(t/1e3*60)})),S<100?j.current=requestAnimationFrame(e):(M(),i===O.length-1&&E(),cancelAnimationFrame(j.current),a())},x=function(){b&&b(i,O[i])},M=function(){v&&v(i,O[i])},E=function(){g&&g(i,O)},P=function(){return"video"===O[i].type?u:"number"==typeof O[i].duration?O[i].duration:m};return c.default.createElement("div",{style:Object.assign(Object.assign({},p.progressArr),_)},O.map((function(e,r){return c.default.createElement(f.default,{key:r,count:t,width:1/O.length,active:r===i?1:r<i?2:0})})))};var p={progressArr:{display:"flex",justifyContent:"center",maxWidth:"100%",flexWrap:"row",position:"absolute",width:"98%",padding:5,paddingTop:7,alignSelf:"center",zIndex:1001,filter:"drop-shadow(0 1px 8px #222)"}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(12)),c=a(r(3));t.default=function(e){var t=u.useContext(c.default),r=t.bufferAction,n=t.pause,o=e.width,i=e.active;return u.default.createElement(l.default,{width:o,pause:n,bufferAction:r},u.default.createElement("div",{style:Object.assign(Object.assign({},function(t){switch(t.active){case 2:return{width:"100%"};case 1:return{transform:"scaleX(".concat(e.count/100,")")};case 0:default:return{width:0}}}({active:i})),f.inner)}))};var f={inner:{background:"#fff",height:"100%",maxWidth:"100%",borderRadius:2,transformOrigin:"center left",WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitPerspective:1e3,MozPerspective:1e3,msPerspective:1e3,perspective:1e3}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=function(e){var t=e.width,r=e.pause,n=e.bufferAction;return{width:"".concat(100*t,"%"),opacity:r&&!n?0:1}},a={progress:{height:2,maxWidth:"100%",background:"#555",margin:2,borderRadius:2,transition:"opacity 400ms ease-in-out"}};t.default=function(e){return o.default.createElement("div",{style:Object.assign(Object.assign({},a.progress),i(e))},e.children)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRenderer=void 0,t.getRenderer=function(e,t){var r=t.map((function(t){return Object.assign(Object.assign({},t),{testerResult:t.tester(e)})})).filter((function(e){return e.testerResult.condition}));return r.sort((function(e,t){return t.testerResult.priority-e.testerResult.priority})),r[0].renderer}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderers=void 0;var o=n(r(15)),i=n(r(19)),a=n(r(20)),u=n(r(21));t.renderers=[o.default,i.default,u.default,a.default]},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(r(0)),f=l(r(6)),s=l(r(4)),d=l(r(5));t.renderer=function(e){var t=e.story,r=e.action,o=(e.isPaused,e.config),i=n(c.useState(!1),2),a=i[0],u=i[1],l=o.width,p=o.height,h=o.loader,m=o.storyStyles,v=Object.assign(Object.assign({},y.storyContent),m||{});return c.createElement(s.default,{story:t,globalHeader:o.header},c.createElement(d.default,{story:t,action:r},c.createElement("div",null,c.createElement("img",{style:v,src:t.url,onLoad:function(){u(!0),r("play")}}),!a&&c.createElement("div",{style:{width:l,height:p,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},h||c.createElement(f.default,null)))))};var y={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.tester=function(e){return{condition:!(e.content||e.type&&"image"!==e.type),priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.default=function(e){e.styles;var t=a(e,["styles"]);return o.a.createElement("svg",i({width:"44",height:"44",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff"},t),o.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},o.a.createElement("circle",{cx:"22",cy:"22",r:"1"},o.a.createElement("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),o.a.createElement("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),o.a.createElement("circle",{cx:"22",cy:"22",r:"1"},o.a.createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),o.a.createElement("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i={main:{display:"flex",alignItems:"center"},img:{width:40,height:40,borderRadius:40,marginRight:10,filter:"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))",border:"2px solid rgba(255, 255, 255, 0.8)"},text:{display:"flex",flexDirection:"column",filter:"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))"},heading:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,marginBottom:2},subheading:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.8)",margin:0}};t.default=function(e){var t=e.profileImage,r=e.heading,n=e.subheading;return o.default.createElement("div",{style:i.main},t&&o.default.createElement("img",{style:i.img,src:t}),o.default.createElement("span",{style:i.text},o.default.createElement("p",{style:i.heading},r),o.default.createElement("p",{style:i.subheading},n)))}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(1));t.default=function(e){var t=e.seeMoreContent,r=e.customCollapsed,n=u.useContext(l.default).keyboardNavigation;u.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof n&&n)return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}),[n]);var o=function(t){"ArrowUp"===t.key?(t.preventDefault(),e.toggleMore(!0)):"ArrowDown"!==t.key&&"Escape"!==t.key||(t.preventDefault(),e.toggleMore(!1))};return e.showContent?u.default.createElement("div",{style:c.seeMoreExpanded},u.default.createElement(t,{close:function(){return e.toggleMore(!1)}})):r?u.default.createElement(r,{action:e.action,toggleMore:e.toggleMore}):u.default.createElement("div",{style:c.seeMore,onClick:function(t){t.preventDefault(),t.stopPropagation(),e.toggleMore(!0)}},u.default.createElement("span",{style:c.seeMoreIcon},"⌃"),u.default.createElement("span",{style:c.seeMoreText},"See more"))};var c={seeMore:{height:"10vh",background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"flex-end",bottom:0},seeMoreExpanded:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",zIndex:99999},seeMoreText:{color:"white",textAlign:"center",letterSpacing:"0.1em",marginBottom:"2.2vh",textTransform:"capitalize",opacity:"1",fontSize:"0.8em",transition:"opacity 300ms ease-in-out"},seeMoreIcon:{color:"white",textAlign:"center",letterSpacing:"0.2em",marginBottom:"0.4vh",opacity:"1",filter:"drop-shadow(0 0 5px black)",textTransform:"capitalize",transition:"opacity 300ms ease-in-out"},seeMoreClose:{position:"absolute",filter:"drop-shadow(0 3px 2px #ccc)",right:"0.5rem",top:"0.5rem",fontSize:"1.5rem",opacity:"0.7",padding:"1rem"}}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(r(0)),f=l(r(6)),s=l(r(4)),d=l(r(5));t.renderer=function(e){var t=e.story,r=e.action,o=e.isPaused,i=e.config,a=e.messageHandler,u=n(c.useState(!1),2),l=u[0],p=u[1],h=n(c.useState(!1),2),m=h[0],v=h[1],b=i.width,g=i.height,_=i.loader,O=i.storyStyles,j=Object.assign(Object.assign({},y.storyContent),O||{}),S=c.useRef(null);c.useEffect((function(){S.current&&(o?S.current.pause():S.current.play().catch((function(){})))}),[o]);return c.createElement(s.default,{story:t,globalHeader:i.header},c.createElement(d.default,{story:t,action:r},c.createElement("div",{style:y.videoContainer},c.createElement("video",{ref:S,style:j,src:t.url,controls:!1,onLoadedData:function(){a("UPDATE_VIDEO_DURATION",{duration:S.current.duration}),p(!0),S.current.play().then((function(){r("play")})).catch((function(){v(!0),S.current.play().finally((function(){r("play")}))}))},playsInline:!0,onWaiting:function(){r("pause",!0)},onPlaying:function(){r("play",!0)},muted:m,autoPlay:!0,"webkit-playsinline":"true"}),!l&&c.createElement("div",{style:{width:b,height:g,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},_||c.createElement(f.default,null)))))};var y={storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},videoContainer:{display:"flex",alignItems:"center",justifyContent:"center"}};t.tester=function(e){return{condition:"video"===e.type,priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(r(0));t.renderer=function(e){var t=e.story,r=e.action;return a.useEffect((function(){r("play")}),[t]),a.createElement("div",{style:u.storyContent},a.createElement("p",{style:u.text},"This story could not be loaded."))};var u={storyContent:{width:"100%",maxHeight:"100%",margin:"auto"},text:{textAlign:"center",color:"white",width:"90%",margin:"auto"}};t.tester=function(){return{condition:!0,priority:1}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(r(0));t.renderer=function(e){a.useEffect((function(){e.action("play")}),[e.story]);var t=e.story.originalContent;return a.createElement(t,Object.assign({},e))},t.tester=function(e){return{condition:!!e.content,priority:2}},t.default={renderer:t.renderer,tester:t.tester}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1N0b3JpZXMvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInJlYWN0XCIsXCJjb21tb25qczJcIjpcInJlYWN0XCIsXCJhbWRcIjpcIlJlYWN0XCIsXCJyb290XCI6XCJSZWFjdFwifSIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbnRleHQvR2xvYmFsLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9TdG9yaWVzLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9Qcm9ncmVzcy50cyIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoSGVhZGVyLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoU2VlTW9yZS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1NwaW5uZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvaW5kZXgudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Db250YWluZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9TdG9yeS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1Byb2dyZXNzQXJyYXkudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Qcm9ncmVzcy50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1Byb2dyZXNzV3JhcHBlci50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy91dGlsL3JlbmRlcmVycy50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvSW1hZ2UudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvYXNzZXRzL3B1ZmYuc3ZnIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9IZWFkZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9TZWVNb3JlLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9WaWRlby50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvRGVmYXVsdC50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvQXV0b1BsYXlDb250ZW50LnRzeCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpbml0aWFsQ29udGV4dCIsImRlZmF1bHRJbnRlcnZhbCIsIndpZHRoIiwiaGVpZ2h0IiwiR2xvYmFsQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJzdG9yaWVzIiwiU3Rvcmllc0NvbnRleHQiLCJjdXJyZW50SWQiLCJ2aWRlb0R1cmF0aW9uIiwiYnVmZmVyQWN0aW9uIiwicGF1c2UiLCJuZXh0Iiwic3RvcnkiLCJnbG9iYWxIZWFkZXIiLCJjaGlsZHJlbiIsImhlYWRlciIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwiekluZGV4IiwiaGVhZGluZyIsInN1YmhlYWRpbmciLCJwcm9maWxlSW1hZ2UiLCJhY3Rpb24iLCJjdXN0b21Db2xsYXBzZWQiLCJ1c2VTdGF0ZSIsInNob3dNb3JlIiwic2V0U2hvd01vcmUiLCJDb2xsYXBzZWRDb21wb25lbnQiLCJzZWVNb3JlIiwibWFyZ2luIiwiYm90dG9tIiwidG9nZ2xlTW9yZSIsInNob3ciLCJzaG93Q29udGVudCIsInNlZU1vcmVDb250ZW50Iiwic2VlTW9yZUNvbGxhcHNlZCIsIlJlYWN0SW5zdGFTdG9yaWVzIiwicHJvcHMiLCJyZW5kZXJlcnMiLCJjb25jYXQiLCJjb250ZXh0IiwibG9hZGVyIiwic3RvcnlDb250YWluZXJTdHlsZXMiLCJzdG9yeVN0eWxlcyIsImxvb3AiLCJpc1BhdXNlZCIsImN1cnJlbnRJbmRleCIsIm9uU3RvcnlTdGFydCIsIm9uU3RvcnlFbmQiLCJvbkFsbFN0b3JpZXNFbmQiLCJrZXlib2FyZE5hdmlnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInRvcFN0b3JpZXNQcm9ncmVzc1N0eWxlcyIsImdlbmVyYXRlU3RvcmllcyIsInNldFN0b3JpZXMiLCJ1c2VFZmZlY3QiLCJQcm92aWRlciIsIm1hcCIsInVybCIsInR5cGUiLCJhc3NpZ24iLCJyZW5kZXJlciIsImdldFJlbmRlcmVyIiwib3JpZ2luYWxDb250ZW50IiwiY29udGVudCIsImRlZmF1bHRQcm9wcyIsIldpdGhIZWFkZXIiLCJXaXRoU2VlTW9yZSIsInNldEN1cnJlbnRJZCIsInNldFBhdXNlIiwic2V0QnVmZmVyQWN0aW9uIiwic2V0VmlkZW9EdXJhdGlvbiIsIm1vdXNlZG93bklkIiwidXNlUmVmIiwiaXNNb3VudGVkIiwidXNlQ29udGV4dCIsImxlbmd0aCIsInNldEN1cnJlbnRJZFdyYXBwZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVLZXlEb3duIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImN1cnJlbnQiLCJlIiwicHJldmlvdXMiLCJ0b2dnbGVTdGF0ZSIsImNhbGxiYWNrIiwicHJldiIsInVwZGF0ZU5leHRTdG9yeUlkRm9yTG9vcCIsInVwZGF0ZU5leHRTdG9yeUlkIiwiZGVib3VuY2VQYXVzZSIsInNldFRpbWVvdXQiLCJtb3VzZVVwIiwiY2xlYXJUaW1lb3V0IiwiY2xhc3NOYW1lIiwic3R5bGVzIiwiY29udGFpbmVyIiwib25Ub3VjaFN0YXJ0Iiwib25Nb3VzZURvd24iLCJvblRvdWNoRW5kIiwib25Nb3VzZVVwIiwicGxheVN0YXRlIiwiZ2V0VmlkZW9EdXJhdGlvbiIsImR1cmF0aW9uIiwib3ZlcmxheSIsIm9uQ2xpY2siLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImJhY2tncm91bmQiLCJvdmVyZmxvdyIsImFsaWduSXRlbXMiLCJzdG9yeUNvbnRlbnQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIklubmVyQ29udGVudCIsImNvbmZpZyIsImdsb2JhbENvbnRleHQiLCJyZW5kZXJlck1lc3NhZ2VIYW5kbGVyIiwiZGF0YSIsImFjayIsIm1lc3NhZ2VIYW5kbGVyIiwiY291bnQiLCJzZXRDb3VudCIsImFuaW1hdGlvbkZyYW1lSWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpbmNyZW1lbnRDb3VudCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY291bnRDb3B5Iiwic3RvcnlTdGFydENhbGxiYWNrIiwiaW50ZXJ2YWwiLCJnZXRDdXJyZW50SW50ZXJ2YWwiLCJzdG9yeUVuZENhbGxiYWNrIiwiYWxsU3Rvcmllc0VuZENhbGxiYWNrIiwicHJvZ3Jlc3NBcnIiLCJfIiwiYWN0aXZlIiwianVzdGlmeUNvbnRlbnQiLCJmbGV4V3JhcCIsInBhZGRpbmciLCJwYWRkaW5nVG9wIiwiYWxpZ25TZWxmIiwiZmlsdGVyIiwidHJhbnNmb3JtIiwiZ2V0UHJvZ3Jlc3NTdHlsZSIsImlubmVyIiwiYm9yZGVyUmFkaXVzIiwidHJhbnNmb3JtT3JpZ2luIiwiV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5IiwiTW96QmFja2ZhY2VWaXNpYmlsaXR5IiwibXNCYWNrZmFjZVZpc2liaWxpdHkiLCJiYWNrZmFjZVZpc2liaWxpdHkiLCJXZWJraXRQZXJzcGVjdGl2ZSIsIk1velBlcnNwZWN0aXZlIiwibXNQZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlIiwiZ2V0UHJvZ3Jlc3NXcmFwcGVyU3R5bGUiLCJvcGFjaXR5IiwicHJvZ3Jlc3MiLCJ0cmFuc2l0aW9uIiwicHJvYmFibGUiLCJ0ZXN0ZXJSZXN1bHQiLCJ0ZXN0ZXIiLCJjb25kaXRpb24iLCJzb3J0IiwiYSIsImIiLCJwcmlvcml0eSIsIlJlYWN0IiwibG9hZGVkIiwic2V0TG9hZGVkIiwiY29tcHV0ZWRTdHlsZXMiLCJzcmMiLCJvbkxvYWQiLCJjb2xvciIsInhtbG5zIiwic3Ryb2tlIiwiZmlsbCIsImZpbGxSdWxlIiwic3Ryb2tlV2lkdGgiLCJjeCIsImN5IiwiYXR0cmlidXRlTmFtZSIsImJlZ2luIiwiZHVyIiwidmFsdWVzIiwiY2FsY01vZGUiLCJrZXlUaW1lcyIsImtleVNwbGluZXMiLCJyZXBlYXRDb3VudCIsIm1haW4iLCJpbWciLCJtYXJnaW5SaWdodCIsImJvcmRlciIsInRleHQiLCJmb250U2l6ZSIsIm1hcmdpbkJvdHRvbSIsIlNlZU1vcmVDb250ZW50IiwiQ3VzdG9tQ29sbGFwc2VkIiwic2VlTW9yZUV4cGFuZGVkIiwiY2xvc2UiLCJzdG9wUHJvcGFnYXRpb24iLCJzZWVNb3JlSWNvbiIsInNlZU1vcmVUZXh0IiwiYm94U2l6aW5nIiwidGV4dEFsaWduIiwibGV0dGVyU3BhY2luZyIsInRleHRUcmFuc2Zvcm0iLCJzZWVNb3JlQ2xvc2UiLCJyaWdodCIsIm11dGVkIiwic2V0TXV0ZWQiLCJ2aWQiLCJwbGF5IiwidmlkZW9Db250YWluZXIiLCJyZWYiLCJjb250cm9scyIsIm9uTG9hZGVkRGF0YSIsInRoZW4iLCJwbGF5c0lubGluZSIsIm9uV2FpdGluZyIsIm9uUGxheWluZyIsImF1dG9QbGF5IiwiQ29udGVudCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELEVBQVFHLFFBQVEsVUFDUixtQkFBWEMsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLFVBQVcsQ0FBQyxTQUFVSixHQUNILGlCQUFaQyxRQUNkQSxRQUFpQixRQUFJRCxFQUFRRyxRQUFRLFVBRXJDSixFQUFjLFFBQUlDLEVBQVFELEVBQVksT0FSeEMsQ0FTR08sTUFBTSxTQUFTQyxHQUNsQixPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVQsUUFHbkMsSUFBSUMsRUFBU00sRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFgsUUFBUyxJQVVWLE9BTkFZLEVBQVFILEdBQVVJLEtBQUtaLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNRLEdBRy9EUCxFQUFPVSxHQUFJLEVBR0pWLEVBQU9ELFFBMERmLE9BckRBUSxFQUFvQk0sRUFBSUYsRUFHeEJKLEVBQW9CTyxFQUFJUixFQUd4QkMsRUFBb0JRLEVBQUksU0FBU2hCLEVBQVNpQixFQUFNQyxHQUMzQ1YsRUFBb0JXLEVBQUVuQixFQUFTaUIsSUFDbENHLE9BQU9DLGVBQWVyQixFQUFTaUIsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFVixFQUFvQmdCLEVBQUksU0FBU3hCLEdBQ1gsb0JBQVh5QixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWVyQixFQUFTeUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlckIsRUFBUyxhQUFjLENBQUUyQixPQUFPLEtBUXZEbkIsRUFB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QkFBR3BHLE1BQU9vRixFQUFPa0csTUFBSSxxQ0FJN0IsSUFBTWxHLEVBQVMsQ0FDWGdCLGFBQWMsQ0FDVm5ILE1BQU8sT0FDUHFILFVBQVcsT0FDWHZGLE9BQVEsUUFFWnVLLEtBQU0sQ0FDRlcsVUFBVyxTQUNYL0IsTUFBTyxRQUNQakwsTUFBTyxNQUNQOEIsT0FBUSxTQUlILEVBQUF1SSxPQUFpQixXQUMxQixNQUFPLENBQ0hDLFdBQVcsRUFDWEksU0FBVSxJQUlsQixVQUFlLENBQ1g1RyxTQUFBLEVBQUFBLFNBQ0F1RyxPQUFBLEVBQUFBLFMsNG5CQ3BDSixjQUdhLEVBQUF2RyxTQUFxQixTQUFDeEIsR0FDL0JxSSxFQUFNbkgsV0FBVSxXQUNabEIsRUFBTWYsT0FBTyxVQUNkLENBQUNlLEVBQU0zQixRQUNWLElBQU11TixFQUFVNUwsRUFBTTNCLE1BQU1xRCxnQkFDNUIsT0FBTyxnQkFBQ2tLLEVBQU8saUJBQUs1TCxLQUdYLEVBQUErSCxPQUFpQixTQUFDMUosR0FDM0IsTUFBTyxDQUNIMkosWUFBYTNKLEVBQU1zRCxRQUNuQnlHLFNBQVUsSUFJbEIsVUFBZSxDQUNYNUcsU0FBQSxFQUFBQSxTQUNBdUcsT0FBQSxFQUFBQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiU3Rvcmllc1wiLCBbXCJSZWFjdFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJTdG9yaWVzXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlN0b3JpZXNcIl0gPSBmYWN0b3J5KHJvb3RbXCJSZWFjdFwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBHbG9iYWxDdHggfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ29udGV4dCA9IHtcclxuXHRkZWZhdWx0SW50ZXJ2YWw6IDQwMDAsXHJcblx0d2lkdGg6IDM2MCxcclxuXHRoZWlnaHQ6IDY0MCxcclxufTtcclxuXHJcbmNvbnN0IEdsb2JhbENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PEdsb2JhbEN0eD4oaW5pdGlhbENvbnRleHQpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2xvYmFsQ29udGV4dDtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtcclxuXHRTdG9yaWVzQ29udGV4dCBhcyBTdG9yaWVzQ29udGV4dEludGVyZmFjZSxcclxuXHRTdG9yeSxcclxufSBmcm9tICcuLi9pbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ29udGV4dDogeyBzdG9yaWVzOiBTdG9yeVtdIH0gPSB7XHJcblx0c3RvcmllczogW10sXHJcbn07XHJcblxyXG5jb25zdCBTdG9yaWVzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8U3Rvcmllc0NvbnRleHRJbnRlcmZhY2U+KFxyXG5cdGluaXRpYWxDb250ZXh0XHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdG9yaWVzQ29udGV4dDtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBQcm9ncmVzc0NvbnRleHQgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5jcmVhdGVDb250ZXh0PFByb2dyZXNzQ29udGV4dD4oe1xyXG4gICAgY3VycmVudElkOiAwLFxyXG4gICAgdmlkZW9EdXJhdGlvbjogMCxcclxuICAgIGJ1ZmZlckFjdGlvbjogZmFsc2UsXHJcbiAgICBwYXVzZTogZmFsc2UsXHJcbiAgICBuZXh0OiAoKSA9PiB7IH1cclxufSkiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBTdG9yeSB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuLy4uLy4uL2NvbXBvbmVudHMvSGVhZGVyXCI7XHJcblxyXG5jb25zdCB3aXRoSGVhZGVyOiBSZWFjdC5GQzx7IHN0b3J5OiBTdG9yeSwgZ2xvYmFsSGVhZGVyOiBGdW5jdGlvbiB9PiA9ICh7IHN0b3J5LCBnbG9iYWxIZWFkZXIsIGNoaWxkcmVuIH0pID0+IHtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIHtjaGlsZHJlbn1cclxuICAgICAgICB7c3RvcnkuaGVhZGVyICYmIChcclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCBsZWZ0OiAxMiwgdG9wOiAyMCwgekluZGV4OiAxOSB9fT5cclxuICAgICAgICAgICAgICAgIHt0eXBlb2Ygc3RvcnkgPT09IFwib2JqZWN0XCIgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsSGVhZGVyID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxIZWFkZXIoc3RvcnkuaGVhZGVyKVxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGVhZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz17c3RvcnkuaGVhZGVyLmhlYWRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViaGVhZGluZz17c3RvcnkuaGVhZGVyLnN1YmhlYWRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZUltYWdlPXtzdG9yeS5oZWFkZXIucHJvZmlsZUltYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICA8Lz5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aEhlYWRlcjsiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50VHlwZSwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEFjdGlvbiwgU2VlTW9yZVByb3BzLCBTdG9yeSB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgU2VlTW9yZSBmcm9tIFwiLi8uLi8uLi9jb21wb25lbnRzL1NlZU1vcmVcIjtcclxuXHJcbmNvbnN0IHdpdGhTZWVNb3JlOiBSZWFjdC5GQzx7XHJcbiAgICBzdG9yeTogU3RvcnksXHJcbiAgICBhY3Rpb246IEFjdGlvbixcclxuICAgIGN1c3RvbUNvbGxhcHNlZD86IFNlZU1vcmVQcm9wc1tcImN1c3RvbUNvbGxhcHNlZFwiXVxyXG59PiA9ICh7IHN0b3J5LCBhY3Rpb24sIGN1c3RvbUNvbGxhcHNlZCwgY2hpbGRyZW4gfSkgPT4ge1xyXG4gICAgY29uc3QgW3Nob3dNb3JlLCBzZXRTaG93TW9yZV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCB0b2dnbGVNb3JlID0gKHNob3cpID0+IHtcclxuICAgICAgICBhY3Rpb24oc2hvdyA/ICdwYXVzZScgOiAncGxheScpO1xyXG4gICAgICAgIHNldFNob3dNb3JlKHNob3cpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgQ29sbGFwc2VkQ29tcG9uZW50ID0gU2VlTW9yZTtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIHtjaGlsZHJlbn1cclxuICAgICAgICB7c3Rvcnkuc2VlTW9yZSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogc2hvd01vcmUgPyAndW5zZXQnIDogMCxcclxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDk5OTksXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogc2hvd01vcmUgPyAnMTAwJScgOiAnYXV0bydcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZWRDb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb249e2FjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVNb3JlPXt0b2dnbGVNb3JlfVxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dDb250ZW50PXtzaG93TW9yZX1cclxuICAgICAgICAgICAgICAgICAgICBzZWVNb3JlQ29udGVudD17c3Rvcnkuc2VlTW9yZX1cclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21Db2xsYXBzZWQ9e2N1c3RvbUNvbGxhcHNlZCB8fCBzdG9yeS5zZWVNb3JlQ29sbGFwc2VkfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgIDwvPlxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU2VlTW9yZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgU3Bpbm5lclNWRyBmcm9tICcuLy4uL2Fzc2V0cy9wdWZmLnN2Zyc7XHJcblxyXG5jb25zdCBTcGlubmVyID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIDxTcGlubmVyU1ZHIC8+XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNwaW5uZXI7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgUmVhY3RJbnN0YVN0b3JpZXNQcm9wcywgR2xvYmFsQ3R4LCBTdG9yeSwgVGVzdGVyLCBSZW5kZXJlciB9IGZyb20gJy4vaW50ZXJmYWNlcydcclxuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL2NvbXBvbmVudHMvQ29udGFpbmVyJ1xyXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuL2NvbnRleHQvR2xvYmFsJ1xyXG5pbXBvcnQgU3Rvcmllc0NvbnRleHQgZnJvbSAnLi9jb250ZXh0L1N0b3JpZXMnO1xyXG5pbXBvcnQgeyBnZXRSZW5kZXJlciB9IGZyb20gJy4vdXRpbC9yZW5kZXJlcnMnXHJcbmltcG9ydCB7IHJlbmRlcmVycyBhcyBkZWZhdWx0UmVuZGVyZXJzIH0gZnJvbSAnLi9yZW5kZXJlcnMvaW5kZXgnO1xyXG5pbXBvcnQgd2l0aEhlYWRlciBmcm9tICcuL3JlbmRlcmVycy93cmFwcGVycy93aXRoSGVhZGVyJ1xyXG5pbXBvcnQgd2l0aFNlZU1vcmUgZnJvbSAnLi9yZW5kZXJlcnMvd3JhcHBlcnMvd2l0aFNlZU1vcmUnXHJcblxyXG5jb25zdCBSZWFjdEluc3RhU3RvcmllcyA9IGZ1bmN0aW9uIChwcm9wczogUmVhY3RJbnN0YVN0b3JpZXNQcm9wcykge1xyXG4gICAgbGV0IHJlbmRlcmVycyA9IHByb3BzLnJlbmRlcmVycyA/IHByb3BzLnJlbmRlcmVycy5jb25jYXQoZGVmYXVsdFJlbmRlcmVycykgOiBkZWZhdWx0UmVuZGVyZXJzO1xyXG4gICAgbGV0IGNvbnRleHQ6IEdsb2JhbEN0eCA9IHtcclxuICAgICAgICB3aWR0aDogcHJvcHMud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBwcm9wcy5oZWlnaHQsXHJcbiAgICAgICAgbG9hZGVyOiBwcm9wcy5sb2FkZXIsXHJcbiAgICAgICAgaGVhZGVyOiBwcm9wcy5oZWFkZXIsXHJcbiAgICAgICAgc3RvcnlDb250YWluZXJTdHlsZXM6IHByb3BzLnN0b3J5Q29udGFpbmVyU3R5bGVzLFxyXG4gICAgICAgIHN0b3J5U3R5bGVzOiBwcm9wcy5zdG9yeVN0eWxlcyxcclxuICAgICAgICBsb29wOiBwcm9wcy5sb29wLFxyXG4gICAgICAgIGRlZmF1bHRJbnRlcnZhbDogcHJvcHMuZGVmYXVsdEludGVydmFsLFxyXG4gICAgICAgIGlzUGF1c2VkOiBwcm9wcy5pc1BhdXNlZCxcclxuICAgICAgICBjdXJyZW50SW5kZXg6IHByb3BzLmN1cnJlbnRJbmRleCxcclxuICAgICAgICBvblN0b3J5U3RhcnQ6IHByb3BzLm9uU3RvcnlTdGFydCxcclxuICAgICAgICBvblN0b3J5RW5kOiBwcm9wcy5vblN0b3J5RW5kLFxyXG4gICAgICAgIG9uQWxsU3Rvcmllc0VuZDogcHJvcHMub25BbGxTdG9yaWVzRW5kLFxyXG4gICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbjogcHJvcHMua2V5Ym9hcmROYXZpZ2F0aW9uLFxyXG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBwcm9wcy5wcmV2ZW50RGVmYXVsdCxcclxuICAgICAgICB0b3BTdG9yaWVzUHJvZ3Jlc3NTdHlsZXM6IHByb3BzLnRvcFN0b3JpZXNQcm9ncmVzc1N0eWxlcyxcclxuICAgIH1cclxuICAgIGNvbnN0IFtzdG9yaWVzLCBzZXRTdG9yaWVzXSA9IHVzZVN0YXRlPHsgc3RvcmllczogU3RvcnlbXSB9Pih7IHN0b3JpZXM6IGdlbmVyYXRlU3Rvcmllcyhwcm9wcy5zdG9yaWVzLCByZW5kZXJlcnMpIH0pO1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBzZXRTdG9yaWVzKHsgc3RvcmllczogZ2VuZXJhdGVTdG9yaWVzKHByb3BzLnN0b3JpZXMsIHJlbmRlcmVycykgfSk7XHJcbiAgICB9LCBbcHJvcHMuc3RvcmllcywgcHJvcHMucmVuZGVyZXJzXSk7XHJcblxyXG4gICAgcmV0dXJuIDxHbG9iYWxDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cclxuICAgICAgICA8U3Rvcmllc0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3N0b3JpZXN9PlxyXG4gICAgICAgICAgICA8Q29udGFpbmVyIC8+XHJcbiAgICAgICAgPC9TdG9yaWVzQ29udGV4dC5Qcm92aWRlcj5cclxuICAgIDwvR2xvYmFsQ29udGV4dC5Qcm92aWRlcj5cclxufVxyXG5cclxuY29uc3QgZ2VuZXJhdGVTdG9yaWVzID0gKHN0b3JpZXM6IFN0b3J5W10sIHJlbmRlcmVyczogeyByZW5kZXJlcjogUmVuZGVyZXIsIHRlc3RlcjogVGVzdGVyIH1bXSkgPT4ge1xyXG4gICAgcmV0dXJuIHN0b3JpZXMubWFwKHMgPT4ge1xyXG4gICAgICAgIGxldCBzdG9yeTogU3RvcnkgPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBzdG9yeS51cmwgPSBzO1xyXG4gICAgICAgICAgICBzdG9yeS50eXBlID0gJ2ltYWdlJztcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBzdG9yeSA9IE9iamVjdC5hc3NpZ24oc3RvcnksIHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlbmRlcmVyID0gZ2V0UmVuZGVyZXIoc3RvcnksIHJlbmRlcmVycyk7XHJcbiAgICAgICAgc3Rvcnkub3JpZ2luYWxDb250ZW50ID0gc3RvcnkuY29udGVudDtcclxuICAgICAgICBzdG9yeS5jb250ZW50ID0gcmVuZGVyZXI7XHJcbiAgICAgICAgcmV0dXJuIHN0b3J5XHJcbiAgICB9KVxyXG59O1xyXG5cclxuUmVhY3RJbnN0YVN0b3JpZXMuZGVmYXVsdFByb3BzID0ge1xyXG4gICAgd2lkdGg6IDM2MCxcclxuICAgIGhlaWdodDogNjQwLFxyXG4gICAgZGVmYXVsdEludGVydmFsOiA0MDAwXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBXaXRoSGVhZGVyID0gd2l0aEhlYWRlcjtcclxuZXhwb3J0IGNvbnN0IFdpdGhTZWVNb3JlID0gd2l0aFNlZU1vcmU7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZWFjdEluc3RhU3RvcmllcyIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L0dsb2JhbCdcclxuaW1wb3J0IFN0b3JpZXNDb250ZXh0IGZyb20gJy4vLi4vY29udGV4dC9TdG9yaWVzJ1xyXG5pbXBvcnQgUHJvZ3Jlc3NDb250ZXh0IGZyb20gJy4vLi4vY29udGV4dC9Qcm9ncmVzcydcclxuaW1wb3J0IFN0b3J5IGZyb20gJy4vU3RvcnknXHJcbmltcG9ydCBQcm9ncmVzc0FycmF5IGZyb20gJy4vUHJvZ3Jlc3NBcnJheSdcclxuaW1wb3J0IHsgR2xvYmFsQ3R4LCBTdG9yaWVzQ29udGV4dCBhcyBTdG9yaWVzQ29udGV4dEludGVyZmFjZSB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IFtjdXJyZW50SWQsIHNldEN1cnJlbnRJZF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApXHJcbiAgICBjb25zdCBbcGF1c2UsIHNldFBhdXNlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpXHJcbiAgICBjb25zdCBbYnVmZmVyQWN0aW9uLCBzZXRCdWZmZXJBY3Rpb25dID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcclxuICAgIGNvbnN0IFt2aWRlb0R1cmF0aW9uLCBzZXRWaWRlb0R1cmF0aW9uXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcclxuXHJcbiAgICBsZXQgbW91c2Vkb3duSWQgPSB1c2VSZWY8YW55PigpO1xyXG4gICAgbGV0IGlzTW91bnRlZCA9IHVzZVJlZjxib29sZWFuPih0cnVlKTtcclxuXHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxvb3AsIGN1cnJlbnRJbmRleCwgaXNQYXVzZWQsIGtleWJvYXJkTmF2aWdhdGlvbiwgcHJldmVudERlZmF1bHQsIHN0b3J5Q29udGFpbmVyU3R5bGVzID0ge30sIG9uQWxsU3Rvcmllc0VuZCB9ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KEdsb2JhbENvbnRleHQpO1xyXG4gICAgY29uc3QgeyBzdG9yaWVzIH0gPSB1c2VDb250ZXh0PFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlPihTdG9yaWVzQ29udGV4dCk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRJbmRleCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA+PSAwICYmIGN1cnJlbnRJbmRleCA8IHN0b3JpZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SWRXcmFwcGVyKCgpID0+IGN1cnJlbnRJbmRleClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0luZGV4IG91dCBvZiBib3VuZHMuIEN1cnJlbnQgaW5kZXggd2FzIHNldCB0byB2YWx1ZSBtb3JlIHRoYW4gdGhlIGxlbmd0aCBvZiBzdG9yaWVzIGFycmF5LicsIGN1cnJlbnRJbmRleClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtjdXJyZW50SW5kZXhdKVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpc1BhdXNlZCA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIHNldFBhdXNlKGlzUGF1c2VkKVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtpc1BhdXNlZF0pXHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBpc0NsaWVudCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpO1xyXG4gICAgICAgIGlmIChpc0NsaWVudCAmJiAodHlwZW9mIGtleWJvYXJkTmF2aWdhdGlvbiA9PT0gJ2Jvb2xlYW4nICYmIGtleWJvYXJkTmF2aWdhdGlvbikpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtrZXlib2FyZE5hdmlnYXRpb25dKTtcclxuXHJcbiAgICAvLyBDbGVhbnVwIG1vdW50ZWQgc3RhdGUgLSBmb3IgaXNzdWUgIzEzMCAoaHR0cHM6Ly9naXRodWIuY29tL21vaGl0azA1L3JlYWN0LWluc3RhLXN0b3JpZXMvaXNzdWVzLzEzMClcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGUua2V5ID09PSAnQXJyb3dMZWZ0Jykge1xyXG4gICAgICAgICAgICBwcmV2aW91cygpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGUua2V5ID09PSAnQXJyb3dSaWdodCcpIHtcclxuICAgICAgICAgICAgbmV4dCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRvZ2dsZVN0YXRlID0gKGFjdGlvbjogc3RyaW5nLCBidWZmZXJBY3Rpb24/OiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgc2V0UGF1c2UoYWN0aW9uID09PSAncGF1c2UnKVxyXG4gICAgICAgIHNldEJ1ZmZlckFjdGlvbighIWJ1ZmZlckFjdGlvbilcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzZXRDdXJyZW50SWRXcmFwcGVyID0gKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgc2V0Q3VycmVudElkKGNhbGxiYWNrKTtcclxuICAgICAgICB0b2dnbGVTdGF0ZSgncGF1c2UnLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwcmV2aW91cyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBwcmVzc2VkUHJldmlvdXNCdXR0b25XaGlsZUZpcnN0U3RvcnkgPSBjdXJyZW50SWQgPT09IDA7XHJcbiAgICAgICAgcHJlc3NlZFByZXZpb3VzQnV0dG9uV2hpbGVGaXJzdFN0b3J5ICYmIG9uQWxsU3Rvcmllc0VuZCAmJiBvbkFsbFN0b3JpZXNFbmQoKVxyXG4gICAgICAgIHNldEN1cnJlbnRJZFdyYXBwZXIocHJldiA9PiBwcmV2ID4gMCA/IHByZXYgLSAxIDogcHJldilcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXh0ID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xyXG4gICAgICAgICAgICBpZiAobG9vcCkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlTmV4dFN0b3J5SWRGb3JMb29wKClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZU5leHRTdG9yeUlkKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdXBkYXRlTmV4dFN0b3J5SWRGb3JMb29wID0gKCkgPT4ge1xyXG4gICAgICAgIHNldEN1cnJlbnRJZFdyYXBwZXIocHJldiA9PiAocHJldiArIDEpICUgc3Rvcmllcy5sZW5ndGgpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlTmV4dFN0b3J5SWQgPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0Q3VycmVudElkV3JhcHBlcihwcmV2ID0+IHtcclxuICAgICAgICAgICAgaWYgKHByZXYgPCBzdG9yaWVzLmxlbmd0aCAtIDEpIHJldHVybiBwcmV2ICsgMVxyXG4gICAgICAgICAgICBvbkFsbFN0b3JpZXNFbmQgJiYgb25BbGxTdG9yaWVzRW5kKHRydWUpXHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZWJvdW5jZVBhdXNlID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQgfCBSZWFjdC5Ub3VjaEV2ZW50KSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgbW91c2Vkb3duSWQuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0b2dnbGVTdGF0ZSgncGF1c2UnKVxyXG4gICAgICAgIH0sIDIwMClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtb3VzZVVwID0gKHR5cGU6IHN0cmluZykgPT4gKGU6IFJlYWN0Lk1vdXNlRXZlbnQgfCBSZWFjdC5Ub3VjaEV2ZW50KSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgbW91c2Vkb3duSWQuY3VycmVudCAmJiBjbGVhclRpbWVvdXQobW91c2Vkb3duSWQuY3VycmVudClcclxuICAgICAgICBpZiAocGF1c2UpIHtcclxuICAgICAgICAgICAgdG9nZ2xlU3RhdGUoJ3BsYXknKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHR5cGUgPT09ICduZXh0JyA/IG5leHQoKSA6IHByZXZpb3VzKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2V0VmlkZW9EdXJhdGlvbiA9IChkdXJhdGlvbjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgc2V0VmlkZW9EdXJhdGlvbihkdXJhdGlvbiAqIDEwMDApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nbWFpbi1zdG9yeS1jb250YWluZXInXHJcbiAgICAgICAgICAgIHN0eWxlPXt7IC4uLnN0eWxlcy5jb250YWluZXIsIC4uLnN0b3J5Q29udGFpbmVyU3R5bGVzLCAuLi57IHdpZHRoLCBoZWlnaHQgfSB9fVxyXG4gICAgICAgICAgICBvblRvdWNoU3RhcnQ9e2RlYm91bmNlUGF1c2V9XHJcbiAgICAgICAgICAgIG9uTW91c2VEb3duPXtkZWJvdW5jZVBhdXNlfVxyXG4gICAgICAgICAgICBvblRvdWNoRW5kPXtkZWJvdW5jZVBhdXNlfVxyXG4gICAgICAgICAgICBvbk1vdXNlVXA9e2RlYm91bmNlUGF1c2V9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgICA8UHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7XHJcbiAgICAgICAgICAgICAgICBidWZmZXJBY3Rpb246IGJ1ZmZlckFjdGlvbixcclxuICAgICAgICAgICAgICAgIHZpZGVvRHVyYXRpb246IHZpZGVvRHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50SWQsXHJcbiAgICAgICAgICAgICAgICBwYXVzZSxcclxuICAgICAgICAgICAgICAgIG5leHRcclxuICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NBcnJheSAvPlxyXG4gICAgICAgICAgICA8L1Byb2dyZXNzQ29udGV4dC5Qcm92aWRlcj5cclxuICAgICAgICAgICAgPFN0b3J5XHJcbiAgICAgICAgICAgICAgICBhY3Rpb249e3RvZ2dsZVN0YXRlfVxyXG4gICAgICAgICAgICAgICAgYnVmZmVyQWN0aW9uPXtidWZmZXJBY3Rpb259XHJcbiAgICAgICAgICAgICAgICBwbGF5U3RhdGU9e3BhdXNlfVxyXG4gICAgICAgICAgICAgICAgc3Rvcnk9e3N0b3JpZXNbY3VycmVudElkXX1cclxuICAgICAgICAgICAgICAgIGdldFZpZGVvRHVyYXRpb249e2dldFZpZGVvRHVyYXRpb259XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIHshcHJldmVudERlZmF1bHQgJiYgPGRpdiBzdHlsZT17c3R5bGVzLm92ZXJsYXl9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aW91cy1zdG9yeS1idXR0b25cIiBzdHlsZT17eyB3aWR0aDogJzUwJScsIHpJbmRleDogOTk5IH19IG9uQ2xpY2s9e21vdXNlVXAoJ3ByZXZpb3VzJyl9IC8+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5leHQtc3RvcnktYnV0dG9uXCIgc3R5bGU9e3sgd2lkdGg6ICc1MCUnLCB6SW5kZXg6IDk5OSB9fSBvbkNsaWNrPXttb3VzZVVwKCduZXh0Jyl9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2Pn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxufVxyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG4gICAgY29udGFpbmVyOiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxyXG4gICAgICAgIGJhY2tncm91bmQ6ICcjMTExJyxcclxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xyXG4gICAgfSxcclxuICAgIG92ZXJsYXk6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICBoZWlnaHQ6ICdpbmhlcml0JyxcclxuICAgICAgICB3aWR0aDogJ2luaGVyaXQnLFxyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4J1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IFN0b3J5UHJvcHMsIEdsb2JhbEN0eCB9IGZyb20gXCIuLy4uL2ludGVyZmFjZXNcIjtcclxuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSBcIi4vLi4vY29udGV4dC9HbG9iYWxcIjtcclxuXHJcbmNvbnN0IFN0b3J5ID0gKHByb3BzOiBTdG9yeVByb3BzKSA9PiB7XHJcblx0Y29uc3QgZ2xvYmFsQ29udGV4dCA9IHVzZUNvbnRleHQ8R2xvYmFsQ3R4PihcclxuXHRcdEdsb2JhbENvbnRleHRcclxuXHQpO1xyXG5cclxuXHRjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxvYWRlciwgaGVhZGVyLCBzdG9yeVN0eWxlcyB9ID0gZ2xvYmFsQ29udGV4dDtcclxuXHRjb25zdCByZW5kZXJlck1lc3NhZ2VIYW5kbGVyID0gKHR5cGU6IHN0cmluZywgZGF0YTogYW55KSA9PiB7XHJcblx0XHRzd2l0Y2ggKHR5cGUpIHtcclxuXHRcdFx0Y2FzZSAnVVBEQVRFX1ZJREVPX0RVUkFUSU9OJzpcclxuXHRcdFx0XHRwcm9wcy5nZXRWaWRlb0R1cmF0aW9uKGRhdGEuZHVyYXRpb24pO1xyXG5cdFx0XHRcdHJldHVybiB7IGFjazogJ09LJyBhcyAnT0snIH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0IGdldFN0b3J5Q29udGVudCA9ICgpID0+IHtcclxuXHRcdGxldCBJbm5lckNvbnRlbnQgPSBwcm9wcy5zdG9yeS5jb250ZW50IGFzIGFueTtcclxuXHRcdGxldCBjb25maWcgPSB7IHdpZHRoLCBoZWlnaHQsIGxvYWRlciwgaGVhZGVyLCBzdG9yeVN0eWxlcyB9O1xyXG5cdFx0cmV0dXJuIDxJbm5lckNvbnRlbnRcclxuXHRcdFx0YWN0aW9uPXtwcm9wcy5hY3Rpb259XHJcblx0XHRcdGlzUGF1c2VkPXtwcm9wcy5wbGF5U3RhdGV9XHJcblx0XHRcdHN0b3J5PXtwcm9wcy5zdG9yeX1cclxuXHRcdFx0Y29uZmlnPXtjb25maWd9XHJcblx0XHRcdG1lc3NhZ2VIYW5kbGVyPXtyZW5kZXJlck1lc3NhZ2VIYW5kbGVyfVxyXG5cdFx0Lz5cclxuXHR9O1xyXG5cdHJldHVybiAoXHJcblx0XHQ8ZGl2XHJcblx0XHRcdHN0eWxlPXt7IC4uLnN0eWxlcy5zdG9yeSwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9fVxyXG5cdFx0PlxyXG5cdFx0XHR7Z2V0U3RvcnlDb250ZW50KCl9XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59O1xyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG5cdHN0b3J5OiB7XHJcblx0XHRkaXNwbGF5OiBcImZsZXhcIixcclxuXHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcblx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuXHRcdGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuXHR9LFxyXG5cdHN0b3J5Q29udGVudDoge1xyXG5cdFx0d2lkdGg6IFwiYXV0b1wiLFxyXG5cdFx0bWF4V2lkdGg6IFwiMTAwJVwiLFxyXG5cdFx0bWF4SGVpZ2h0OiBcIjEwMCVcIixcclxuXHRcdG1hcmdpbjogXCJhdXRvXCJcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdG9yeTtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi9Qcm9ncmVzcydcclxuaW1wb3J0IHsgUHJvZ3Jlc3NDb250ZXh0LCBHbG9iYWxDdHgsIFN0b3JpZXNDb250ZXh0IGFzIFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xyXG5pbXBvcnQgUHJvZ3Jlc3NDdHggZnJvbSAnLi8uLi9jb250ZXh0L1Byb2dyZXNzJ1xyXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvR2xvYmFsJ1xyXG5pbXBvcnQgU3Rvcmllc0NvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L1N0b3JpZXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XHJcbiAgICBjb25zdCBbY291bnQsIHNldENvdW50XSA9IHVzZVN0YXRlPG51bWJlcj4oMClcclxuICAgIGNvbnN0IHsgY3VycmVudElkLCBuZXh0LCB2aWRlb0R1cmF0aW9uLCBwYXVzZSB9ID0gdXNlQ29udGV4dDxQcm9ncmVzc0NvbnRleHQ+KFByb2dyZXNzQ3R4KVxyXG4gICAgY29uc3QgeyBkZWZhdWx0SW50ZXJ2YWwsIG9uU3RvcnlFbmQsIG9uU3RvcnlTdGFydCwgb25BbGxTdG9yaWVzRW5kLCB0b3BTdG9yaWVzUHJvZ3Jlc3NTdHlsZXMgfSA9IHVzZUNvbnRleHQ8R2xvYmFsQ3R4PihHbG9iYWxDb250ZXh0KTtcclxuICAgIGNvbnN0IHsgc3RvcmllcyB9ID0gdXNlQ29udGV4dDxTdG9yaWVzQ29udGV4dEludGVyZmFjZT4oU3Rvcmllc0NvbnRleHQpO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgc2V0Q291bnQoMClcclxuICAgIH0sIFtjdXJyZW50SWQsIHN0b3JpZXNdKVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFwYXVzZSkge1xyXG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5jcmVtZW50Q291bnQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudClcclxuICAgICAgICB9XHJcbiAgICB9LCBbY3VycmVudElkLCBwYXVzZV0pXHJcblxyXG4gICAgbGV0IGFuaW1hdGlvbkZyYW1lSWQgPSB1c2VSZWY8bnVtYmVyPigpXHJcblxyXG4gICAgbGV0IGNvdW50Q29weSA9IGNvdW50O1xyXG4gICAgY29uc3QgaW5jcmVtZW50Q291bnQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGNvdW50Q29weSA9PT0gMCkgc3RvcnlTdGFydENhbGxiYWNrKClcclxuICAgICAgICBzZXRDb3VudCgoY291bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IGdldEN1cnJlbnRJbnRlcnZhbCgpXHJcbiAgICAgICAgICAgIGNvdW50Q29weSA9IGNvdW50ICsgKDEwMCAvICgoaW50ZXJ2YWwgLyAxMDAwKSAqIDYwKSlcclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50ICsgKDEwMCAvICgoaW50ZXJ2YWwgLyAxMDAwKSAqIDYwKSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChjb3VudENvcHkgPCAxMDApIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGluY3JlbWVudENvdW50KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0b3J5RW5kQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRJZCA9PT0gc3Rvcmllcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxTdG9yaWVzRW5kQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0b3J5U3RhcnRDYWxsYmFjayA9ICgpID0+IHtcclxuICAgICAgICBvblN0b3J5U3RhcnQgJiYgb25TdG9yeVN0YXJ0KGN1cnJlbnRJZCwgc3Rvcmllc1tjdXJyZW50SWRdKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0b3J5RW5kQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgb25TdG9yeUVuZCAmJiBvblN0b3J5RW5kKGN1cnJlbnRJZCwgc3Rvcmllc1tjdXJyZW50SWRdKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFsbFN0b3JpZXNFbmRDYWxsYmFjayA9ICgpID0+IHtcclxuICAgICAgICBvbkFsbFN0b3JpZXNFbmQgJiYgb25BbGxTdG9yaWVzRW5kKGN1cnJlbnRJZCwgc3RvcmllcylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBnZXRDdXJyZW50SW50ZXJ2YWwgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHN0b3JpZXNbY3VycmVudElkXS50eXBlID09PSAndmlkZW8nKSByZXR1cm4gdmlkZW9EdXJhdGlvblxyXG4gICAgICAgIGlmICh0eXBlb2Ygc3Rvcmllc1tjdXJyZW50SWRdLmR1cmF0aW9uID09PSAnbnVtYmVyJykgcmV0dXJuIHN0b3JpZXNbY3VycmVudElkXS5kdXJhdGlvblxyXG4gICAgICAgIHJldHVybiBkZWZhdWx0SW50ZXJ2YWxcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uc3R5bGVzLnByb2dyZXNzQXJyLCAuLi50b3BTdG9yaWVzUHJvZ3Jlc3NTdHlsZXMgfX0+XHJcbiAgICAgICAgICAgIHtzdG9yaWVzLm1hcCgoXywgaSkgPT5cclxuICAgICAgICAgICAgICAgIDxQcm9ncmVzc1xyXG4gICAgICAgICAgICAgICAgICAgIGtleT17aX1cclxuICAgICAgICAgICAgICAgICAgICBjb3VudD17Y291bnR9XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezEgLyBzdG9yaWVzLmxlbmd0aH1cclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU9e2kgPT09IGN1cnJlbnRJZCA/IDEgOiAoaSA8IGN1cnJlbnRJZCA/IDIgOiAwKX1cclxuICAgICAgICAgICAgICAgIC8+KX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxufVxyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG4gICAgcHJvZ3Jlc3NBcnI6IHtcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgICAgIG1heFdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgZmxleFdyYXA6ICdyb3cnLFxyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHdpZHRoOiAnOTglJyxcclxuICAgICAgICBwYWRkaW5nOiA1LFxyXG4gICAgICAgIHBhZGRpbmdUb3A6IDcsXHJcbiAgICAgICAgYWxpZ25TZWxmOiAnY2VudGVyJyxcclxuICAgICAgICB6SW5kZXg6IDEwMDEsXHJcbiAgICAgICAgZmlsdGVyOiAnZHJvcC1zaGFkb3coMCAxcHggOHB4ICMyMjIpJ1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IFByb2dyZXNzUHJvcHMsIFByb2dyZXNzQ29udGV4dCB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcclxuaW1wb3J0IFByb2dyZXNzV3JhcHBlciBmcm9tICcuL1Byb2dyZXNzV3JhcHBlcidcclxuaW1wb3J0IFByb2dyZXNzQ3R4IGZyb20gJy4vLi4vY29udGV4dC9Qcm9ncmVzcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChwcm9wczogUHJvZ3Jlc3NQcm9wcykgPT4ge1xyXG4gICAgY29uc3QgeyBidWZmZXJBY3Rpb24sIHBhdXNlIH0gPSB1c2VDb250ZXh0PFByb2dyZXNzQ29udGV4dD4oUHJvZ3Jlc3NDdHgpXHJcblxyXG4gICAgY29uc3QgZ2V0UHJvZ3Jlc3NTdHlsZSA9ICh7IGFjdGl2ZSB9KSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChhY3RpdmUpIHtcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6ICcxMDAlJyB9XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHRyYW5zZm9ybTogYHNjYWxlWCgke3Byb3BzLmNvdW50IC8gMTAwfSlgIH1cclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IDAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IDAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHdpZHRoLCBhY3RpdmUgfSA9IHByb3BzXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxQcm9ncmVzc1dyYXBwZXIgd2lkdGg9e3dpZHRofSBwYXVzZT17cGF1c2V9IGJ1ZmZlckFjdGlvbj17YnVmZmVyQWN0aW9ufT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgLi4uZ2V0UHJvZ3Jlc3NTdHlsZSh7IGFjdGl2ZSB9KSwgLi4uc3R5bGVzLmlubmVyIH19IC8+XHJcbiAgICAgICAgPC9Qcm9ncmVzc1dyYXBwZXI+XHJcbiAgICApXHJcbn1cclxuXHJcbmNvbnN0IHN0eWxlczogYW55ID0ge1xyXG4gICAgaW5uZXI6IHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmZicsXHJcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBib3JkZXJSYWRpdXM6IDIsXHJcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnY2VudGVyIGxlZnQnLFxyXG5cclxuICAgICAgICBXZWJraXRCYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxyXG4gICAgICAgIE1vekJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXHJcbiAgICAgICAgbXNCYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxyXG4gICAgICAgIGJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXHJcblxyXG4gICAgICAgIFdlYmtpdFBlcnNwZWN0aXZlOiAxMDAwLFxyXG4gICAgICAgIE1velBlcnNwZWN0aXZlOiAxMDAwLFxyXG4gICAgICAgIG1zUGVyc3BlY3RpdmU6IDEwMDAsXHJcbiAgICAgICAgcGVyc3BlY3RpdmU6IDEwMDBcclxuICAgIH1cclxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgUHJvZ3Jlc3NXcmFwcGVyUHJvcHMgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXHJcblxyXG5jb25zdCBQcm9ncmVzc1dyYXBwZXIgPSAocHJvcHM6IFByb2dyZXNzV3JhcHBlclByb3BzKSA9PiAoXHJcbiAgICA8ZGl2IHN0eWxlPXt7IC4uLnN0eWxlcy5wcm9ncmVzcywgLi4uZ2V0UHJvZ3Jlc3NXcmFwcGVyU3R5bGUocHJvcHMpIH19PlxyXG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cclxuICAgIDwvZGl2PlxyXG4pXHJcblxyXG5jb25zdCBnZXRQcm9ncmVzc1dyYXBwZXJTdHlsZSA9ICh7IHdpZHRoLCBwYXVzZSwgYnVmZmVyQWN0aW9uIH0pID0+ICh7XHJcbiAgICB3aWR0aDogYCR7d2lkdGggKiAxMDB9JWAsXHJcbiAgICBvcGFjaXR5OiBwYXVzZSAmJiAhYnVmZmVyQWN0aW9uID8gMCA6IDFcclxufSlcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHtcclxuICAgIHByb2dyZXNzOiB7XHJcbiAgICAgICAgaGVpZ2h0OiAyLFxyXG4gICAgICAgIG1heFdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgYmFja2dyb3VuZDogJyM1NTUnLFxyXG4gICAgICAgIG1hcmdpbjogMixcclxuICAgICAgICBib3JkZXJSYWRpdXM6IDIsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgNDAwbXMgZWFzZS1pbi1vdXQnXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzV3JhcHBlciIsImltcG9ydCB7IFJlbmRlcmVyLCBTdG9yeSwgVGVzdGVyIH0gZnJvbSBcIi4uL2ludGVyZmFjZXNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRSZW5kZXJlciA9IChzdG9yeTogU3RvcnksIHJlbmRlcmVyczogeyByZW5kZXJlcjogUmVuZGVyZXIsIHRlc3RlcjogVGVzdGVyIH1bXSk6IFJlbmRlcmVyID0+IHtcclxuICAgIGxldCBwcm9iYWJsZSA9IHJlbmRlcmVycy5tYXAociA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4ucixcclxuICAgICAgICAgICAgdGVzdGVyUmVzdWx0OiByLnRlc3RlcihzdG9yeSlcclxuICAgICAgICB9XHJcbiAgICB9KS5maWx0ZXIociA9PiByLnRlc3RlclJlc3VsdC5jb25kaXRpb24pO1xyXG4gICAgcHJvYmFibGUuc29ydCgoYSwgYikgPT4gYi50ZXN0ZXJSZXN1bHQucHJpb3JpdHkgLSBhLnRlc3RlclJlc3VsdC5wcmlvcml0eSk7XHJcbiAgICByZXR1cm4gcHJvYmFibGVbMF0ucmVuZGVyZXI7XHJcbn0iLCJpbXBvcnQgaW1hZ2UgZnJvbSAnLi9JbWFnZSc7XHJcbmltcG9ydCB2aWRlbyBmcm9tICcuL1ZpZGVvJztcclxuaW1wb3J0IGRlZmF1bHRSZW5kZXJlciBmcm9tICcuL0RlZmF1bHQnO1xyXG5pbXBvcnQgYXV0b3BsYXlDb250ZW50IGZyb20gJy4vQXV0b1BsYXlDb250ZW50JztcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJlcnMgPSBbaW1hZ2UsIHZpZGVvLCBhdXRvcGxheUNvbnRlbnQsIGRlZmF1bHRSZW5kZXJlcl07XHJcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vY29tcG9uZW50cy9TcGlubmVyJztcclxuaW1wb3J0IHsgUmVuZGVyZXIsIFRlc3RlciB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcyc7XHJcbmltcG9ydCBXaXRoSGVhZGVyIGZyb20gJy4vd3JhcHBlcnMvd2l0aEhlYWRlcic7XHJcbmltcG9ydCBXaXRoU2VlTW9yZSBmcm9tICcuL3dyYXBwZXJzL3dpdGhTZWVNb3JlJztcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJlcjogUmVuZGVyZXIgPSAoeyBzdG9yeSwgYWN0aW9uLCBpc1BhdXNlZCwgY29uZmlnIH0pID0+IHtcclxuICAgIGNvbnN0IFtsb2FkZWQsIHNldExvYWRlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxvYWRlciwgc3RvcnlTdHlsZXMgfSA9IGNvbmZpZztcclxuICAgIGxldCBjb21wdXRlZFN0eWxlcyA9IHtcclxuICAgICAgICAuLi5zdHlsZXMuc3RvcnlDb250ZW50LFxyXG4gICAgICAgIC4uLihzdG9yeVN0eWxlcyB8fCB7fSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpbWFnZUxvYWRlZCA9ICgpID0+IHtcclxuICAgICAgICBzZXRMb2FkZWQodHJ1ZSk7XHJcbiAgICAgICAgYWN0aW9uKCdwbGF5Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDxXaXRoSGVhZGVyIHN0b3J5PXtzdG9yeX0gZ2xvYmFsSGVhZGVyPXtjb25maWcuaGVhZGVyfT5cclxuICAgICAgICA8V2l0aFNlZU1vcmUgc3Rvcnk9e3N0b3J5fSBhY3Rpb249e2FjdGlvbn0+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHN0eWxlPXtjb21wdXRlZFN0eWxlc30gc3JjPXtzdG9yeS51cmx9IG9uTG9hZD17aW1hZ2VMb2FkZWR9IC8+XHJcbiAgICAgICAgICAgICAgICB7IWxvYWRlZCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwicmdiYSgwLCAwLCAwLCAwLjkpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNjY2NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2xvYWRlciB8fCA8U3Bpbm5lciAvPn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvV2l0aFNlZU1vcmU+XHJcbiAgICA8L1dpdGhIZWFkZXI+XHJcbn1cclxuXHJcbmNvbnN0IHN0eWxlcyA9IHtcclxuICAgIHN0b3J5OiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxyXG4gICAgfSxcclxuICAgIHN0b3J5Q29udGVudDoge1xyXG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcclxuICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICBtYXJnaW46IFwiYXV0b1wiXHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdGVzdGVyOiBUZXN0ZXIgPSAoc3RvcnkpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAhc3RvcnkuY29udGVudCAmJiAoIXN0b3J5LnR5cGUgfHwgc3RvcnkudHlwZSA9PT0gJ2ltYWdlJyksXHJcbiAgICAgICAgcHJpb3JpdHk6IDJcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVuZGVyZXIsXHJcbiAgICB0ZXN0ZXJcclxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmV4cG9ydCBkZWZhdWx0ICgoe1xuICBzdHlsZXMgPSB7fSxcbiAgLi4ucHJvcHNcbn0pID0+IDxzdmcgd2lkdGg9XCI0NFwiIGhlaWdodD1cIjQ0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHN0cm9rZT1cIiNmZmZcIiB7Li4ucHJvcHN9PjxnIGZpbGw9XCJub25lXCIgZmlsbFJ1bGU9XCJldmVub2RkXCIgc3Ryb2tlV2lkdGg9XCIyXCI+PGNpcmNsZSBjeD1cIjIyXCIgY3k9XCIyMlwiIHI9XCIxXCI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cInJcIiBiZWdpbj1cIjBzXCIgZHVyPVwiMS44c1wiIHZhbHVlcz1cIjE7IDIwXCIgY2FsY01vZGU9XCJzcGxpbmVcIiBrZXlUaW1lcz1cIjA7IDFcIiBrZXlTcGxpbmVzPVwiMC4xNjUsIDAuODQsIDAuNDQsIDFcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiAvPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJzdHJva2Utb3BhY2l0eVwiIGJlZ2luPVwiMHNcIiBkdXI9XCIxLjhzXCIgdmFsdWVzPVwiMTsgMFwiIGNhbGNNb2RlPVwic3BsaW5lXCIga2V5VGltZXM9XCIwOyAxXCIga2V5U3BsaW5lcz1cIjAuMywgMC42MSwgMC4zNTUsIDFcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiAvPjwvY2lyY2xlPjxjaXJjbGUgY3g9XCIyMlwiIGN5PVwiMjJcIiByPVwiMVwiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJyXCIgYmVnaW49XCItMC45c1wiIGR1cj1cIjEuOHNcIiB2YWx1ZXM9XCIxOyAyMFwiIGNhbGNNb2RlPVwic3BsaW5lXCIga2V5VGltZXM9XCIwOyAxXCIga2V5U3BsaW5lcz1cIjAuMTY1LCAwLjg0LCAwLjQ0LCAxXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgLz48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwic3Ryb2tlLW9wYWNpdHlcIiBiZWdpbj1cIi0wLjlzXCIgZHVyPVwiMS44c1wiIHZhbHVlcz1cIjE7IDBcIiBjYWxjTW9kZT1cInNwbGluZVwiIGtleVRpbWVzPVwiMDsgMVwiIGtleVNwbGluZXM9XCIwLjMsIDAuNjEsIDAuMzU1LCAxXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgLz48L2NpcmNsZT48L2c+PC9zdmc+KTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEhlYWRlclByb3BzIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xyXG5cclxuY29uc3QgSGVhZGVyID0gKHsgcHJvZmlsZUltYWdlLCBoZWFkaW5nLCBzdWJoZWFkaW5nIH06IEhlYWRlclByb3BzKSA9PlxyXG4gICAgPGRpdiBzdHlsZT17c3R5bGVzLm1haW59PlxyXG4gICAgICAgIHtwcm9maWxlSW1hZ2UgJiYgPGltZyBzdHlsZT17c3R5bGVzLmltZ30gc3JjPXtwcm9maWxlSW1hZ2V9IC8+fVxyXG4gICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMudGV4dH0+XHJcbiAgICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuaGVhZGluZ30+e2hlYWRpbmd9PC9wPlxyXG4gICAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLnN1YmhlYWRpbmd9PntzdWJoZWFkaW5nfTwvcD5cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICA8L2Rpdj5cclxuXHJcbmNvbnN0IHN0eWxlcyA9IHtcclxuICAgIG1haW46IHtcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcclxuICAgIH0sXHJcbiAgICBpbWc6IHtcclxuICAgICAgICB3aWR0aDogNDAsXHJcbiAgICAgICAgaGVpZ2h0OiA0MCxcclxuICAgICAgICBib3JkZXJSYWRpdXM6IDQwLFxyXG4gICAgICAgIG1hcmdpblJpZ2h0OiAxMCxcclxuICAgICAgICBmaWx0ZXI6ICdkcm9wLXNoYWRvdygwIDBweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpKScsXHJcbiAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KSdcclxuICAgIH0sXHJcbiAgICB0ZXh0OiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxyXG4gICAgICAgIGZpbHRlcjogJ2Ryb3Atc2hhZG93KDAgMHB4IDNweCByZ2JhKDAsIDAsIDAsIDAuOSkpJ1xyXG4gICAgfSxcclxuICAgIGhlYWRpbmc6IHtcclxuICAgICAgICBmb250U2l6ZTogJzFyZW0nLFxyXG4gICAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpJyxcclxuICAgICAgICBtYXJnaW46IDAsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiAyXHJcbiAgICB9LFxyXG4gICAgc3ViaGVhZGluZzoge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMC42cmVtJyxcclxuICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC44KScsXHJcbiAgICAgICAgbWFyZ2luOiAwXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhlYWRlciIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L0dsb2JhbCdcclxuaW1wb3J0IHsgR2xvYmFsQ3R4IH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xyXG5pbXBvcnQgeyBTZWVNb3JlUHJvcHMgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZWVNb3JlKHByb3BzOiBTZWVNb3JlUHJvcHMpIHtcclxuICAgIGNvbnN0IFNlZU1vcmVDb250ZW50ID0gcHJvcHMuc2VlTW9yZUNvbnRlbnQ7XHJcbiAgICBjb25zdCBDdXN0b21Db2xsYXBzZWQgPSBwcm9wcy5jdXN0b21Db2xsYXBzZWQ7XHJcblxyXG4gICAgY29uc3QgeyBrZXlib2FyZE5hdmlnYXRpb24gfSA9IHVzZUNvbnRleHQ8R2xvYmFsQ3R4PihHbG9iYWxDb250ZXh0KTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzQ2xpZW50ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCk7XHJcbiAgICAgICAgaWYgKGlzQ2xpZW50ICYmICh0eXBlb2Yga2V5Ym9hcmROYXZpZ2F0aW9uID09PSAnYm9vbGVhbicgJiYga2V5Ym9hcmROYXZpZ2F0aW9uKSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcclxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2tleWJvYXJkTmF2aWdhdGlvbl0pXHJcblxyXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGUua2V5ID09PSAnQXJyb3dVcCcpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgICAgIHByb3BzLnRvZ2dsZU1vcmUodHJ1ZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nIHx8IGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICAgICAgcHJvcHMudG9nZ2xlTW9yZShmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBwcm9wcy5zaG93Q29udGVudFxyXG4gICAgICAgICAgICA/IDxkaXYgc3R5bGU9e3N0eWxlcy5zZWVNb3JlRXhwYW5kZWR9PlxyXG4gICAgICAgICAgICAgICAgPFNlZU1vcmVDb250ZW50IGNsb3NlPXsoKSA9PiBwcm9wcy50b2dnbGVNb3JlKGZhbHNlKX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgKEN1c3RvbUNvbGxhcHNlZCA/IDxDdXN0b21Db2xsYXBzZWQgYWN0aW9uPXtwcm9wcy5hY3Rpb259IHRvZ2dsZU1vcmU9e3Byb3BzLnRvZ2dsZU1vcmV9IC8+IDogPGRpdiBzdHlsZT17c3R5bGVzLnNlZU1vcmV9IG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcHJvcHMudG9nZ2xlTW9yZSh0cnVlKVxyXG4gICAgICAgICAgICB9fSA+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17c3R5bGVzLnNlZU1vcmVJY29ufT7ijIM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17c3R5bGVzLnNlZU1vcmVUZXh0fT5TZWUgbW9yZTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIClcclxuICAgIClcclxufVxyXG5cclxuY29uc3Qgc3R5bGVzOiBhbnkgPSB7XHJcbiAgICBzZWVNb3JlOiB7XHJcbiAgICAgICAgaGVpZ2h0OiBcIjEwdmhcIixcclxuICAgICAgICBiYWNrZ3JvdW5kOiBcImxpbmVhci1ncmFkaWVudChyZ2JhKDAsIDAsIDAsIDApLCByZ2JhKDAsIDAsIDAsIDAuMikpXCIsXHJcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiLFxyXG4gICAgICAgIGJvdHRvbTogMFxyXG4gICAgfSxcclxuICAgIHNlZU1vcmVFeHBhbmRlZDoge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXHJcbiAgICAgICAgekluZGV4OiA5OTk5OVxyXG4gICAgfSxcclxuICAgIHNlZU1vcmVUZXh0OiB7XHJcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICAgICAgbGV0dGVyU3BhY2luZzogXCIwLjFlbVwiLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIyLjJ2aFwiLFxyXG4gICAgICAgIHRleHRUcmFuc2Zvcm06IFwiY2FwaXRhbGl6ZVwiLFxyXG4gICAgICAgIG9wYWNpdHk6IFwiMVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCIsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogXCJvcGFjaXR5IDMwMG1zIGVhc2UtaW4tb3V0XCJcclxuICAgIH0sXHJcbiAgICBzZWVNb3JlSWNvbjoge1xyXG4gICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXHJcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC4yZW1cIixcclxuICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC40dmhcIixcclxuICAgICAgICBvcGFjaXR5OiBcIjFcIixcclxuICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMCAwIDVweCBibGFjaylcIixcclxuICAgICAgICB0ZXh0VHJhbnNmb3JtOiBcImNhcGl0YWxpemVcIixcclxuICAgICAgICB0cmFuc2l0aW9uOiBcIm9wYWNpdHkgMzAwbXMgZWFzZS1pbi1vdXRcIlxyXG4gICAgfSxcclxuICAgIHNlZU1vcmVDbG9zZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDAgM3B4IDJweCAjY2NjKVwiLFxyXG4gICAgICAgIHJpZ2h0OiBcIjAuNXJlbVwiLFxyXG4gICAgICAgIHRvcDogXCIwLjVyZW1cIixcclxuICAgICAgICBmb250U2l6ZTogXCIxLjVyZW1cIixcclxuICAgICAgICBvcGFjaXR5OiBcIjAuN1wiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiMXJlbVwiXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBTcGlubmVyIGZyb20gJy4uL2NvbXBvbmVudHMvU3Bpbm5lcic7XHJcbmltcG9ydCB7IFJlbmRlcmVyLCBUZXN0ZXIgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgV2l0aEhlYWRlciBmcm9tICcuL3dyYXBwZXJzL3dpdGhIZWFkZXInO1xyXG5pbXBvcnQgV2l0aFNlZU1vcmUgZnJvbSAnLi93cmFwcGVycy93aXRoU2VlTW9yZSc7XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyZXI6IFJlbmRlcmVyID0gKHsgc3RvcnksIGFjdGlvbiwgaXNQYXVzZWQsIGNvbmZpZywgbWVzc2FnZUhhbmRsZXIgfSkgPT4ge1xyXG4gICAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFttdXRlZCwgc2V0TXV0ZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBsb2FkZXIsIHN0b3J5U3R5bGVzIH0gPSBjb25maWc7XHJcblxyXG4gICAgbGV0IGNvbXB1dGVkU3R5bGVzID0ge1xyXG4gICAgICAgIC4uLnN0eWxlcy5zdG9yeUNvbnRlbnQsXHJcbiAgICAgICAgLi4uKHN0b3J5U3R5bGVzIHx8IHt9KVxyXG4gICAgfVxyXG5cclxuICAgIGxldCB2aWQgPSBSZWFjdC51c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAodmlkLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICB2aWQuY3VycmVudC5wYXVzZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmlkLmN1cnJlbnQucGxheSgpLmNhdGNoKCgpID0+IHsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBbaXNQYXVzZWRdKTtcclxuXHJcbiAgICBjb25zdCBvbldhaXRpbmcgPSAoKSA9PiB7XHJcbiAgICAgICAgYWN0aW9uKFwicGF1c2VcIiwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb25QbGF5aW5nID0gKCkgPT4ge1xyXG4gICAgICAgIGFjdGlvbihcInBsYXlcIiwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmlkZW9Mb2FkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgbWVzc2FnZUhhbmRsZXIoJ1VQREFURV9WSURFT19EVVJBVElPTicsIHsgZHVyYXRpb246IHZpZC5jdXJyZW50LmR1cmF0aW9uIH0pO1xyXG4gICAgICAgIHNldExvYWRlZCh0cnVlKTtcclxuICAgICAgICB2aWQuY3VycmVudC5wbGF5KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGFjdGlvbigncGxheScpO1xyXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgc2V0TXV0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIHZpZC5jdXJyZW50LnBsYXkoKS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbigncGxheScpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiA8V2l0aEhlYWRlciBzdG9yeT17c3Rvcnl9IGdsb2JhbEhlYWRlcj17Y29uZmlnLmhlYWRlcn0+XHJcbiAgICAgICAgPFdpdGhTZWVNb3JlIHN0b3J5PXtzdG9yeX0gYWN0aW9uPXthY3Rpb259PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMudmlkZW9Db250YWluZXJ9PlxyXG4gICAgICAgICAgICAgICAgPHZpZGVvXHJcbiAgICAgICAgICAgICAgICAgICAgcmVmPXt2aWR9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2NvbXB1dGVkU3R5bGVzfVxyXG4gICAgICAgICAgICAgICAgICAgIHNyYz17c3RvcnkudXJsfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkxvYWRlZERhdGE9e3ZpZGVvTG9hZGVkfVxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXlzSW5saW5lXHJcbiAgICAgICAgICAgICAgICAgICAgb25XYWl0aW5nPXtvbldhaXRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25QbGF5aW5nPXtvblBsYXlpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgbXV0ZWQ9e211dGVkfVxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9QbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgd2Via2l0LXBsYXlzaW5saW5lPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgeyFsb2FkZWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcInJnYmEoMCwgMCwgMCwgMC45KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiA5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjY2NjXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtsb2FkZXIgfHwgPFNwaW5uZXIgLz59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L1dpdGhTZWVNb3JlPlxyXG4gICAgPC9XaXRoSGVhZGVyPlxyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB7XHJcbiAgICBzdG9yeUNvbnRlbnQ6IHtcclxuICAgICAgICB3aWR0aDogXCJhdXRvXCIsXHJcbiAgICAgICAgbWF4V2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgbWFyZ2luOiBcImF1dG9cIlxyXG4gICAgfSxcclxuICAgIHZpZGVvQ29udGFpbmVyOiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHRlc3RlcjogVGVzdGVyID0gKHN0b3J5KSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbmRpdGlvbjogc3RvcnkudHlwZSA9PT0gJ3ZpZGVvJyxcclxuICAgICAgICBwcmlvcml0eTogMlxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZW5kZXJlcixcclxuICAgIHRlc3RlclxyXG59XHJcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUmVuZGVyZXIsIFRlc3RlciB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcyc7XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyZXI6IFJlbmRlcmVyID0gKHsgc3RvcnksIGFjdGlvbiB9KSA9PiB7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGFjdGlvbigncGxheScpO1xyXG4gICAgfSwgW3N0b3J5XSlcclxuXHJcbiAgICByZXR1cm4gPGRpdiBzdHlsZT17c3R5bGVzLnN0b3J5Q29udGVudH0+XHJcbiAgICAgICAgPHAgc3R5bGU9e3N0eWxlcy50ZXh0fT5UaGlzIHN0b3J5IGNvdWxkIG5vdCBiZSBsb2FkZWQuPC9wPlxyXG4gICAgPC9kaXY+XHJcbn1cclxuXHJcbmNvbnN0IHN0eWxlcyA9IHtcclxuICAgIHN0b3J5Q29udGVudDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBtYXhIZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogXCJhdXRvXCJcclxuICAgIH0sXHJcbiAgICB0ZXh0OiB7XHJcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICBjb2xvcjogJ3doaXRlJyxcclxuICAgICAgICB3aWR0aDogJzkwJScsXHJcbiAgICAgICAgbWFyZ2luOiAnYXV0bydcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB0ZXN0ZXI6IFRlc3RlciA9ICgpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY29uZGl0aW9uOiB0cnVlLFxyXG4gICAgICAgIHByaW9yaXR5OiAxXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZW5kZXJlcixcclxuICAgIHRlc3RlclxyXG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBSZW5kZXJlciwgVGVzdGVyIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJlcjogUmVuZGVyZXIgPSAocHJvcHMpID0+IHtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgcHJvcHMuYWN0aW9uKCdwbGF5Jyk7XHJcbiAgICB9LCBbcHJvcHMuc3RvcnldKVxyXG4gICAgY29uc3QgQ29udGVudCA9IHByb3BzLnN0b3J5Lm9yaWdpbmFsQ29udGVudDtcclxuICAgIHJldHVybiA8Q29udGVudCB7Li4ucHJvcHN9IC8+XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB0ZXN0ZXI6IFRlc3RlciA9IChzdG9yeSkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjb25kaXRpb246ICEhc3RvcnkuY29udGVudCxcclxuICAgICAgICBwcmlvcml0eTogMlxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZW5kZXJlcixcclxuICAgIHRlc3RlclxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==