!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("Stories",["React"],t):"object"==typeof exports?exports.Stories=t(require("react")):e.Stories=t(e.React)}(this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=n(r(0));t.initialContext={defaultInterval:4e3,width:360,height:640};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=n(r(0));t.initialContext={stories:[]};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.default=o.default.createContext({currentId:0,videoDuration:0,bufferAction:!1,pause:!1,next:function(){}})},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(0)),a=o(r(17));t.default=function(e){var t=e.story,r=e.globalHeader,o=e.children;return i.default.createElement(i.default.Fragment,null,o,t.header&&i.default.createElement("div",{style:{position:"absolute",left:12,top:20,zIndex:19}},"object"===n(t)?r?r(t.header):i.default.createElement(a.default,{heading:t.header.heading,subheading:t.header.subheading,profileImage:t.header.profileImage}):null))}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),f=l(r(18));t.default=function(e){var t=e.story,r=e.action,o=e.customCollapsed,i=e.children,a=n(c.useState(!1),2),u=a[0],l=a[1],s=f.default;return c.default.createElement(c.default.Fragment,null,i,t.seeMore&&c.default.createElement("div",{style:{position:"absolute",margin:"auto",bottom:u?"unset":0,zIndex:9999,width:"100%",height:u?"100%":"auto"}},c.default.createElement(s,{action:r,toggleMore:function(e){r(e?"pause":"play"),l(e)},showContent:u,seeMoreContent:t.seeMore,customCollapsed:o||t.seeMoreCollapsed})))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=n(r(16));t.default=function(){return o.default.createElement(i.default,null)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return u(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WithSeeMore=t.WithHeader=void 0;var f=l(r(0)),s=c(r(8)),d=c(r(1)),y=c(r(2)),p=r(13),h=r(14),m=c(r(4)),v=c(r(5)),b=function(e){var t=e.renderers?e.renderers.concat(h.renderers):h.renderers,r={width:e.width,height:e.height,loader:e.loader,header:e.header,storyContainerStyles:e.storyContainerStyles,storyStyles:e.storyStyles,loop:e.loop,defaultInterval:e.defaultInterval,isPaused:e.isPaused,currentIndex:e.currentIndex,onStoryStart:e.onStoryStart,onStoryEnd:e.onStoryEnd,onAllStoriesEnd:e.onAllStoriesEnd,keyboardNavigation:e.keyboardNavigation,preventDefault:e.preventDefault,topStoriesProgressStyles:e.topStoriesProgressStyles},n=o(f.useState({stories:g(e.stories,t)}),2),i=n[0],a=n[1];return f.useEffect((function(){a({stories:g(e.stories,t)})}),[e.stories,e.renderers]),f.default.createElement(d.default.Provider,{value:r},f.default.createElement(y.default.Provider,{value:i},f.default.createElement(s.default,null)))},g=function(e,t){return e.map((function(e){var r={};"string"==typeof e?(r.url=e,r.type="image"):"object"===n(e)&&(r=Object.assign(r,e));var o=p.getRenderer(r,t);return r.originalContent=r.content,r.content=o,r}))};b.defaultProps={width:360,height:640,defaultInterval:4e3},t.WithHeader=m.default,t.WithSeeMore=v.default,t.default=b},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),f=l(r(1)),s=l(r(2)),d=l(r(3)),y=l(r(9)),p=l(r(10));t.default=function(){var e=n(c.useState(0),2),t=e[0],r=e[1],o=n(c.useState(!0),2),i=o[0],a=o[1],u=n(c.useState(!0),2),l=u[0],m=u[1],v=n(c.useState(0),2),b=v[0],g=v[1],_=c.useRef(),O=c.useRef(!0),j=c.useContext(f.default),S=j.width,w=j.height,x=j.loop,M=j.currentIndex,E=j.isPaused,P=j.keyboardNavigation,A=j.preventDefault,C=j.storyContainerStyles,I=void 0===C?{}:C,D=j.onAllStoriesEnd,k=c.useContext(s.default).stories;c.useEffect((function(){"number"==typeof M&&(M>=0&&M<k.length?z((function(){return M})):console.error("Index out of bounds. Current index was set to value more than the length of stories array.",M))}),[M]),c.useEffect((function(){"boolean"==typeof E&&a(E)}),[E]),c.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof P&&P)return document.addEventListener("keydown",T),function(){document.removeEventListener("keydown",T)}}),[P]),c.useEffect((function(){return function(){O.current=!1}}),[]);var T=function(e){"ArrowLeft"===e.key?B():"ArrowRight"===e.key&&W()},R=function(e,t){a("pause"===e),m(!!t)},z=function(e){r(e),R("pause",!0)},B=function(){0===t&&D&&D(),z((function(e){return e>0?e-1:e}))},W=function(){O.current&&(x?N():H())},N=function(){z((function(e){return(e+1)%k.length}))},H=function(){z((function(e){return e<k.length-1?e+1:(D&&D(!0),e)}))},U=function(e){e.preventDefault(),_.current=setTimeout((function(){R("pause")}),200)},V=function(e){return function(t){t.preventDefault(),_.current&&clearTimeout(_.current),i?R("play"):"next"===e?W():B()}};return c.default.createElement("div",{id:"main-story-container",style:Object.assign(Object.assign(Object.assign({},h.container),I),{width:S,height:w})},c.default.createElement(d.default.Provider,{value:{bufferAction:l,videoDuration:b,currentId:t,pause:i,next:W}},c.default.createElement(p.default,null)),c.default.createElement(y.default,{action:R,bufferAction:l,playState:i,story:k[t],getVideoDuration:function(e){g(1e3*e)}}),!A&&c.default.createElement("div",{style:h.overlay},c.default.createElement("div",{className:"previous-story-button",style:{width:"50%",zIndex:999},onTouchStart:U,onClick:V("previous"),onMouseDown:U}),c.default.createElement("div",{className:"next-story-button",style:{width:"50%",zIndex:999},onTouchStart:U,onClick:V("next"),onMouseDown:U})))};var h={container:{display:"flex",flexDirection:"column",background:"#111",position:"relative"},overlay:{position:"absolute",height:"inherit",width:"inherit",display:"flex"}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(1)),c={story:{display:"flex",position:"relative",overflow:"hidden",alignItems:"center"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.default=function(e){var t,r,n=u.useContext(l.default),o=n.width,i=n.height,a=n.loader,f=n.header,s=n.storyStyles,d=function(t,r){switch(t){case"UPDATE_VIDEO_DURATION":return e.getVideoDuration(r.duration),{ack:"OK"}}};return u.default.createElement("div",{style:Object.assign(Object.assign({},c.story),{width:o,height:i})},(t=e.story.content,r={width:o,height:i,loader:a,header:f,storyStyles:s},u.default.createElement(t,{action:e.action,isPaused:e.playState,story:e.story,config:r,messageHandler:d})))}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),f=l(r(11)),s=l(r(3)),d=l(r(1)),y=l(r(2));t.default=function(){var e=n(c.useState(0),2),t=e[0],r=e[1],o=c.useContext(s.default),i=o.currentId,a=o.next,u=o.videoDuration,l=o.pause,h=c.useContext(d.default),m=h.defaultInterval,v=h.onStoryEnd,b=h.onStoryStart,g=h.onAllStoriesEnd,_=h.topStoriesProgressStyles,O=c.useContext(y.default).stories;c.useEffect((function(){r(0)}),[i,O]),c.useEffect((function(){return l||(j.current=requestAnimationFrame(w)),function(){cancelAnimationFrame(j.current)}}),[i,l]);var j=c.useRef(),S=t,w=function e(){0===S&&x(),r((function(e){var t=P();return S=e+100/(t/1e3*60),e+100/(t/1e3*60)})),S<100?j.current=requestAnimationFrame(e):(M(),i===O.length-1&&E(),cancelAnimationFrame(j.current),a())},x=function(){b&&b(i,O[i])},M=function(){v&&v(i,O[i])},E=function(){g&&g(i,O)},P=function(){return"video"===O[i].type?u:"number"==typeof O[i].duration?O[i].duration:m};return c.default.createElement("div",{style:Object.assign(Object.assign({},p.progressArr),_)},O.map((function(e,r){return c.default.createElement(f.default,{key:r,count:t,width:1/O.length,active:r===i?1:r<i?2:0})})))};var p={progressArr:{display:"flex",justifyContent:"center",maxWidth:"100%",flexWrap:"row",position:"absolute",width:"98%",padding:5,paddingTop:7,alignSelf:"center",zIndex:1001,filter:"drop-shadow(0 1px 8px #222)"}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(12)),c=a(r(3));t.default=function(e){var t=u.useContext(c.default),r=t.bufferAction,n=t.pause,o=e.width,i=e.active;return u.default.createElement(l.default,{width:o,pause:n,bufferAction:r},u.default.createElement("div",{style:Object.assign(Object.assign({},function(t){switch(t.active){case 2:return{width:"100%"};case 1:return{transform:"scaleX(".concat(e.count/100,")")};case 0:default:return{width:0}}}({active:i})),f.inner)}))};var f={inner:{background:"#fff",height:"100%",maxWidth:"100%",borderRadius:2,transformOrigin:"center left",WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitPerspective:1e3,MozPerspective:1e3,msPerspective:1e3,perspective:1e3}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=function(e){var t=e.width,r=e.pause,n=e.bufferAction;return{width:"".concat(100*t,"%"),opacity:r&&!n?0:1}},a={progress:{height:2,maxWidth:"100%",background:"#555",margin:2,borderRadius:2,transition:"opacity 400ms ease-in-out"}};t.default=function(e){return o.default.createElement("div",{style:Object.assign(Object.assign({},a.progress),i(e))},e.children)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRenderer=void 0,t.getRenderer=function(e,t){var r=t.map((function(t){return Object.assign(Object.assign({},t),{testerResult:t.tester(e)})})).filter((function(e){return e.testerResult.condition}));return r.sort((function(e,t){return t.testerResult.priority-e.testerResult.priority})),r[0].renderer}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderers=void 0;var o=n(r(15)),i=n(r(19)),a=n(r(20)),u=n(r(21));t.renderers=[o.default,i.default,u.default,a.default]},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(r(0)),f=l(r(6)),s=l(r(4)),d=l(r(5));t.renderer=function(e){var t=e.story,r=e.action,o=(e.isPaused,e.config),i=n(c.useState(!1),2),a=i[0],u=i[1],l=o.width,p=o.height,h=o.loader,m=o.storyStyles,v=Object.assign(Object.assign({},y.storyContent),m||{});return c.createElement(s.default,{story:t,globalHeader:o.header},c.createElement(d.default,{story:t,action:r},c.createElement("div",null,c.createElement("img",{style:v,src:t.url,onLoad:function(){u(!0),r("play")}}),!a&&c.createElement("div",{style:{width:l,height:p,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},h||c.createElement(f.default,null)))))};var y={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.tester=function(e){return{condition:!(e.content||e.type&&"image"!==e.type),priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.default=function(e){e.styles;var t=a(e,["styles"]);return o.a.createElement("svg",i({width:"44",height:"44",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff"},t),o.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},o.a.createElement("circle",{cx:"22",cy:"22",r:"1"},o.a.createElement("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),o.a.createElement("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),o.a.createElement("circle",{cx:"22",cy:"22",r:"1"},o.a.createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),o.a.createElement("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i={main:{display:"flex",alignItems:"center"},img:{width:40,height:40,borderRadius:40,marginRight:10,filter:"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))",border:"2px solid rgba(255, 255, 255, 0.8)"},text:{display:"flex",flexDirection:"column",filter:"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))"},heading:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,marginBottom:2},subheading:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.8)",margin:0}};t.default=function(e){var t=e.profileImage,r=e.heading,n=e.subheading;return o.default.createElement("div",{style:i.main},t&&o.default.createElement("img",{style:i.img,src:t}),o.default.createElement("span",{style:i.text},o.default.createElement("p",{style:i.heading},r),o.default.createElement("p",{style:i.subheading},n)))}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(1));t.default=function(e){var t=e.seeMoreContent,r=e.customCollapsed,n=u.useContext(l.default).keyboardNavigation;u.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof n&&n)return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}),[n]);var o=function(t){"ArrowUp"===t.key?(t.preventDefault(),e.toggleMore(!0)):"ArrowDown"!==t.key&&"Escape"!==t.key||(t.preventDefault(),e.toggleMore(!1))};return e.showContent?u.default.createElement("div",{style:c.seeMoreExpanded},u.default.createElement(t,{close:function(){return e.toggleMore(!1)}})):r?u.default.createElement(r,{action:e.action,toggleMore:e.toggleMore}):u.default.createElement("div",{style:c.seeMore,onClick:function(t){t.preventDefault(),t.stopPropagation(),e.toggleMore(!0)}},u.default.createElement("span",{style:c.seeMoreIcon},"⌃"),u.default.createElement("span",{style:c.seeMoreText},"See more"))};var c={seeMore:{height:"10vh",background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"flex-end",bottom:0},seeMoreExpanded:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",zIndex:99999},seeMoreText:{color:"white",textAlign:"center",letterSpacing:"0.1em",marginBottom:"2.2vh",textTransform:"capitalize",opacity:"1",fontSize:"0.8em",transition:"opacity 300ms ease-in-out"},seeMoreIcon:{color:"white",textAlign:"center",letterSpacing:"0.2em",marginBottom:"0.4vh",opacity:"1",filter:"drop-shadow(0 0 5px black)",textTransform:"capitalize",transition:"opacity 300ms ease-in-out"},seeMoreClose:{position:"absolute",filter:"drop-shadow(0 3px 2px #ccc)",right:"0.5rem",top:"0.5rem",fontSize:"1.5rem",opacity:"0.7",padding:"1rem"}}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(r(0)),f=l(r(6)),s=l(r(4)),d=l(r(5));t.renderer=function(e){var t=e.story,r=e.action,o=e.isPaused,i=e.config,a=e.messageHandler,u=n(c.useState(!1),2),l=u[0],p=u[1],h=n(c.useState(!1),2),m=h[0],v=h[1],b=i.width,g=i.height,_=i.loader,O=i.storyStyles,j=Object.assign(Object.assign({},y.storyContent),O||{}),S=c.useRef(null);c.useEffect((function(){S.current&&(o?S.current.pause():S.current.play().catch((function(){})))}),[o]);return c.createElement(s.default,{story:t,globalHeader:i.header},c.createElement(d.default,{story:t,action:r},c.createElement("div",{style:y.videoContainer},c.createElement("video",{ref:S,style:j,src:t.url,controls:!1,onLoadedData:function(){a("UPDATE_VIDEO_DURATION",{duration:S.current.duration}),p(!0),S.current.play().then((function(){r("play")})).catch((function(){v(!0),S.current.play().finally((function(){r("play")}))}))},playsInline:!0,onWaiting:function(){r("pause",!0)},onPlaying:function(){r("play",!0)},muted:m,autoPlay:!0,"webkit-playsinline":"true"}),!l&&c.createElement("div",{style:{width:b,height:g,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},_||c.createElement(f.default,null)))))};var y={storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},videoContainer:{display:"flex",alignItems:"center",justifyContent:"center"}};t.tester=function(e){return{condition:"video"===e.type,priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(r(0));t.renderer=function(e){var t=e.story,r=e.action;return a.useEffect((function(){r("play")}),[t]),a.createElement("div",{style:u.storyContent},a.createElement("p",{style:u.text},"This story could not be loaded."))};var u={storyContent:{width:"100%",maxHeight:"100%",margin:"auto"},text:{textAlign:"center",color:"white",width:"90%",margin:"auto"}};t.tester=function(){return{condition:!0,priority:1}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(r(0));t.renderer=function(e){a.useEffect((function(){e.action("play")}),[e.story]);var t=e.story.originalContent;return a.createElement(t,Object.assign({},e))},t.tester=function(e){return{condition:!!e.content,priority:2}},t.default={renderer:t.renderer,tester:t.tester}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1N0b3JpZXMvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInJlYWN0XCIsXCJjb21tb25qczJcIjpcInJlYWN0XCIsXCJhbWRcIjpcIlJlYWN0XCIsXCJyb290XCI6XCJSZWFjdFwifSIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbnRleHQvR2xvYmFsLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9TdG9yaWVzLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9Qcm9ncmVzcy50cyIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoSGVhZGVyLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoU2VlTW9yZS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1NwaW5uZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvaW5kZXgudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Db250YWluZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9TdG9yeS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1Byb2dyZXNzQXJyYXkudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Qcm9ncmVzcy50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1Byb2dyZXNzV3JhcHBlci50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy91dGlsL3JlbmRlcmVycy50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvSW1hZ2UudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvYXNzZXRzL3B1ZmYuc3ZnIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9IZWFkZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9TZWVNb3JlLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9WaWRlby50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvRGVmYXVsdC50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvQXV0b1BsYXlDb250ZW50LnRzeCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpbml0aWFsQ29udGV4dCIsImRlZmF1bHRJbnRlcnZhbCIsIndpZHRoIiwiaGVpZ2h0IiwiR2xvYmFsQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJzdG9yaWVzIiwiU3Rvcmllc0NvbnRleHQiLCJjdXJyZW50SWQiLCJ2aWRlb0R1cmF0aW9uIiwiYnVmZmVyQWN0aW9uIiwicGF1c2UiLCJuZXh0Iiwic3RvcnkiLCJnbG9iYWxIZWFkZXIiLCJjaGlsZHJlbiIsImhlYWRlciIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwiekluZGV4IiwiaGVhZGluZyIsInN1YmhlYWRpbmciLCJwcm9maWxlSW1hZ2UiLCJhY3Rpb24iLCJjdXN0b21Db2xsYXBzZWQiLCJ1c2VTdGF0ZSIsInNob3dNb3JlIiwic2V0U2hvd01vcmUiLCJDb2xsYXBzZWRDb21wb25lbnQiLCJzZWVNb3JlIiwibWFyZ2luIiwiYm90dG9tIiwidG9nZ2xlTW9yZSIsInNob3ciLCJzaG93Q29udGVudCIsInNlZU1vcmVDb250ZW50Iiwic2VlTW9yZUNvbGxhcHNlZCIsIlJlYWN0SW5zdGFTdG9yaWVzIiwicHJvcHMiLCJyZW5kZXJlcnMiLCJjb25jYXQiLCJjb250ZXh0IiwibG9hZGVyIiwic3RvcnlDb250YWluZXJTdHlsZXMiLCJzdG9yeVN0eWxlcyIsImxvb3AiLCJpc1BhdXNlZCIsImN1cnJlbnRJbmRleCIsIm9uU3RvcnlTdGFydCIsIm9uU3RvcnlFbmQiLCJvbkFsbFN0b3JpZXNFbmQiLCJrZXlib2FyZE5hdmlnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInRvcFN0b3JpZXNQcm9ncmVzc1N0eWxlcyIsImdlbmVyYXRlU3RvcmllcyIsInNldFN0b3JpZXMiLCJ1c2VFZmZlY3QiLCJQcm92aWRlciIsIm1hcCIsInVybCIsInR5cGUiLCJhc3NpZ24iLCJyZW5kZXJlciIsImdldFJlbmRlcmVyIiwib3JpZ2luYWxDb250ZW50IiwiY29udGVudCIsImRlZmF1bHRQcm9wcyIsIldpdGhIZWFkZXIiLCJXaXRoU2VlTW9yZSIsInNldEN1cnJlbnRJZCIsInNldFBhdXNlIiwic2V0QnVmZmVyQWN0aW9uIiwic2V0VmlkZW9EdXJhdGlvbiIsIm1vdXNlZG93bklkIiwidXNlUmVmIiwiaXNNb3VudGVkIiwidXNlQ29udGV4dCIsImxlbmd0aCIsInNldEN1cnJlbnRJZFdyYXBwZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVLZXlEb3duIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImN1cnJlbnQiLCJlIiwicHJldmlvdXMiLCJ0b2dnbGVTdGF0ZSIsImNhbGxiYWNrIiwicHJldiIsInVwZGF0ZU5leHRTdG9yeUlkRm9yTG9vcCIsInVwZGF0ZU5leHRTdG9yeUlkIiwiZGVib3VuY2VQYXVzZSIsInNldFRpbWVvdXQiLCJtb3VzZVVwIiwiY2xlYXJUaW1lb3V0IiwiaWQiLCJzdHlsZXMiLCJjb250YWluZXIiLCJwbGF5U3RhdGUiLCJnZXRWaWRlb0R1cmF0aW9uIiwiZHVyYXRpb24iLCJvdmVybGF5IiwiY2xhc3NOYW1lIiwib25Ub3VjaFN0YXJ0Iiwib25DbGljayIsIm9uTW91c2VEb3duIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJiYWNrZ3JvdW5kIiwib3ZlcmZsb3ciLCJhbGlnbkl0ZW1zIiwic3RvcnlDb250ZW50IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJJbm5lckNvbnRlbnQiLCJjb25maWciLCJnbG9iYWxDb250ZXh0IiwicmVuZGVyZXJNZXNzYWdlSGFuZGxlciIsImRhdGEiLCJhY2siLCJtZXNzYWdlSGFuZGxlciIsImNvdW50Iiwic2V0Q291bnQiLCJhbmltYXRpb25GcmFtZUlkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaW5jcmVtZW50Q291bnQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNvdW50Q29weSIsInN0b3J5U3RhcnRDYWxsYmFjayIsImludGVydmFsIiwiZ2V0Q3VycmVudEludGVydmFsIiwic3RvcnlFbmRDYWxsYmFjayIsImFsbFN0b3JpZXNFbmRDYWxsYmFjayIsInByb2dyZXNzQXJyIiwiXyIsImFjdGl2ZSIsImp1c3RpZnlDb250ZW50IiwiZmxleFdyYXAiLCJwYWRkaW5nIiwicGFkZGluZ1RvcCIsImFsaWduU2VsZiIsImZpbHRlciIsInRyYW5zZm9ybSIsImdldFByb2dyZXNzU3R5bGUiLCJpbm5lciIsImJvcmRlclJhZGl1cyIsInRyYW5zZm9ybU9yaWdpbiIsIldlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eSIsIk1vekJhY2tmYWNlVmlzaWJpbGl0eSIsIm1zQmFja2ZhY2VWaXNpYmlsaXR5IiwiYmFja2ZhY2VWaXNpYmlsaXR5IiwiV2Via2l0UGVyc3BlY3RpdmUiLCJNb3pQZXJzcGVjdGl2ZSIsIm1zUGVyc3BlY3RpdmUiLCJwZXJzcGVjdGl2ZSIsImdldFByb2dyZXNzV3JhcHBlclN0eWxlIiwib3BhY2l0eSIsInByb2dyZXNzIiwidHJhbnNpdGlvbiIsInByb2JhYmxlIiwidGVzdGVyUmVzdWx0IiwidGVzdGVyIiwiY29uZGl0aW9uIiwic29ydCIsImEiLCJiIiwicHJpb3JpdHkiLCJSZWFjdCIsImxvYWRlZCIsInNldExvYWRlZCIsImNvbXB1dGVkU3R5bGVzIiwic3JjIiwib25Mb2FkIiwiY29sb3IiLCJ4bWxucyIsInN0cm9rZSIsImZpbGwiLCJmaWxsUnVsZSIsInN0cm9rZVdpZHRoIiwiY3giLCJjeSIsImF0dHJpYnV0ZU5hbWUiLCJiZWdpbiIsImR1ciIsInZhbHVlcyIsImNhbGNNb2RlIiwia2V5VGltZXMiLCJrZXlTcGxpbmVzIiwicmVwZWF0Q291bnQiLCJtYWluIiwiaW1nIiwibWFyZ2luUmlnaHQiLCJib3JkZXIiLCJ0ZXh0IiwiZm9udFNpemUiLCJtYXJnaW5Cb3R0b20iLCJTZWVNb3JlQ29udGVudCIsIkN1c3RvbUNvbGxhcHNlZCIsInNlZU1vcmVFeHBhbmRlZCIsImNsb3NlIiwic3RvcFByb3BhZ2F0aW9uIiwic2VlTW9yZUljb24iLCJzZWVNb3JlVGV4dCIsImJveFNpemluZyIsInRleHRBbGlnbiIsImxldHRlclNwYWNpbmciLCJ0ZXh0VHJhbnNmb3JtIiwic2VlTW9yZUNsb3NlIiwicmlnaHQiLCJtdXRlZCIsInNldE11dGVkIiwidmlkIiwicGxheSIsInZpZGVvQ29udGFpbmVyIiwicmVmIiwiY29udHJvbHMiLCJvbkxvYWRlZERhdGEiLCJ0aGVuIiwicGxheXNJbmxpbmUiLCJvbldhaXRpbmciLCJvblBsYXlpbmciLCJhdXRvUGxheSIsIkNvbnRlbnQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFVBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxVQUFXLENBQUMsU0FBVUosR0FDSCxpQkFBWkMsUUFDZEEsUUFBaUIsUUFBSUQsRUFBUUcsUUFBUSxVQUVyQ0osRUFBYyxRQUFJQyxFQUFRRCxFQUFZLE9BUnhDLENBU0dPLE1BQU0sU0FBU0MsR0FDbEIsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVULFFBR25DLElBQUlDLEVBQVNNLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hYLFFBQVMsSUFVVixPQU5BWSxFQUFRSCxHQUFVSSxLQUFLWixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTUSxHQUcvRFAsRUFBT1UsR0FBSSxFQUdKVixFQUFPRCxRQTBEZixPQXJEQVEsRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNoQixFQUFTaUIsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFbkIsRUFBU2lCLElBQ2xDRyxPQUFPQyxlQUFlckIsRUFBU2lCLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVYsRUFBb0JnQixFQUFJLFNBQVN4QixHQUNYLG9CQUFYeUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlckIsRUFBU3lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZXJCLEVBQVMsYUFBYyxDQUFFMkIsT0FBTyxLQVF2RG5CLEVBQW9Cb0IsRUFBSSxTQUFTRCxFQUFP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SSxxQ0FJN0IsSUFBTWpHLEVBQVMsQ0FDWGUsYUFBYyxDQUNWbEgsTUFBTyxPQUNQb0gsVUFBVyxPQUNYdEYsT0FBUSxRQUVac0ssS0FBTSxDQUNGVyxVQUFXLFNBQ1gvQixNQUFPLFFBQ1BoTCxNQUFPLE1BQ1A4QixPQUFRLFNBSUgsRUFBQXNJLE9BQWlCLFdBQzFCLE1BQU8sQ0FDSEMsV0FBVyxFQUNYSSxTQUFVLElBSWxCLFVBQWUsQ0FDWDNHLFNBQUEsRUFBQUEsU0FDQXNHLE9BQUEsRUFBQUEsUyw0bkJDcENKLGNBR2EsRUFBQXRHLFNBQXFCLFNBQUN4QixHQUMvQm9JLEVBQU1sSCxXQUFVLFdBQ1psQixFQUFNZixPQUFPLFVBQ2QsQ0FBQ2UsRUFBTTNCLFFBQ1YsSUFBTXNOLEVBQVUzTCxFQUFNM0IsTUFBTXFELGdCQUM1QixPQUFPLGdCQUFDaUssRUFBTyxpQkFBSzNMLEtBR1gsRUFBQThILE9BQWlCLFNBQUN6SixHQUMzQixNQUFPLENBQ0gwSixZQUFhMUosRUFBTXNELFFBQ25Cd0csU0FBVSxJQUlsQixVQUFlLENBQ1gzRyxTQUFBLEVBQUFBLFNBQ0FzRyxPQUFBLEVBQUFBIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJTdG9yaWVzXCIsIFtcIlJlYWN0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlN0b3JpZXNcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiU3Rvcmllc1wiXSA9IGZhY3Rvcnkocm9vdFtcIlJlYWN0XCJdKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEdsb2JhbEN0eCB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDb250ZXh0ID0ge1xyXG5cdGRlZmF1bHRJbnRlcnZhbDogNDAwMCxcclxuXHR3aWR0aDogMzYwLFxyXG5cdGhlaWdodDogNjQwLFxyXG59O1xyXG5cclxuY29uc3QgR2xvYmFsQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8R2xvYmFsQ3R4Pihpbml0aWFsQ29udGV4dCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHbG9iYWxDb250ZXh0O1xyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge1xyXG5cdFN0b3JpZXNDb250ZXh0IGFzIFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlLFxyXG5cdFN0b3J5LFxyXG59IGZyb20gJy4uL2ludGVyZmFjZXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDb250ZXh0OiB7IHN0b3JpZXM6IFN0b3J5W10gfSA9IHtcclxuXHRzdG9yaWVzOiBbXSxcclxufTtcclxuXHJcbmNvbnN0IFN0b3JpZXNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxTdG9yaWVzQ29udGV4dEludGVyZmFjZT4oXHJcblx0aW5pdGlhbENvbnRleHRcclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0b3JpZXNDb250ZXh0O1xyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IFByb2dyZXNzQ29udGV4dCB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlYWN0LmNyZWF0ZUNvbnRleHQ8UHJvZ3Jlc3NDb250ZXh0Pih7XHJcbiAgICBjdXJyZW50SWQ6IDAsXHJcbiAgICB2aWRlb0R1cmF0aW9uOiAwLFxyXG4gICAgYnVmZmVyQWN0aW9uOiBmYWxzZSxcclxuICAgIHBhdXNlOiBmYWxzZSxcclxuICAgIG5leHQ6ICgpID0+IHsgfVxyXG59KSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFN0b3J5IH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcyc7XHJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vLi4vLi4vY29tcG9uZW50cy9IZWFkZXJcIjtcclxuXHJcbmNvbnN0IHdpdGhIZWFkZXI6IFJlYWN0LkZDPHsgc3Rvcnk6IFN0b3J5LCBnbG9iYWxIZWFkZXI6IEZ1bmN0aW9uIH0+ID0gKHsgc3RvcnksIGdsb2JhbEhlYWRlciwgY2hpbGRyZW4gfSkgPT4ge1xyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgIHtzdG9yeS5oZWFkZXIgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIGxlZnQ6IDEyLCB0b3A6IDIwLCB6SW5kZXg6IDE5IH19PlxyXG4gICAgICAgICAgICAgICAge3R5cGVvZiBzdG9yeSA9PT0gXCJvYmplY3RcIiA/IChcclxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxIZWFkZXIgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEhlYWRlcihzdG9yeS5oZWFkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIZWFkZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nPXtzdG9yeS5oZWFkZXIuaGVhZGluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJoZWFkaW5nPXtzdG9yeS5oZWFkZXIuc3ViaGVhZGluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlSW1hZ2U9e3N0b3J5LmhlYWRlci5wcm9maWxlSW1hZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApIDogbnVsbH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgIDwvPlxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoSGVhZGVyOyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnRUeXBlLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgQWN0aW9uLCBTZWVNb3JlUHJvcHMsIFN0b3J5IH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcyc7XHJcbmltcG9ydCBTZWVNb3JlIGZyb20gXCIuLy4uLy4uL2NvbXBvbmVudHMvU2VlTW9yZVwiO1xyXG5cclxuY29uc3Qgd2l0aFNlZU1vcmU6IFJlYWN0LkZDPHtcclxuICAgIHN0b3J5OiBTdG9yeSxcclxuICAgIGFjdGlvbjogQWN0aW9uLFxyXG4gICAgY3VzdG9tQ29sbGFwc2VkPzogU2VlTW9yZVByb3BzW1wiY3VzdG9tQ29sbGFwc2VkXCJdXHJcbn0+ID0gKHsgc3RvcnksIGFjdGlvbiwgY3VzdG9tQ29sbGFwc2VkLCBjaGlsZHJlbiB9KSA9PiB7XHJcbiAgICBjb25zdCBbc2hvd01vcmUsIHNldFNob3dNb3JlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IHRvZ2dsZU1vcmUgPSAoc2hvdykgPT4ge1xyXG4gICAgICAgIGFjdGlvbihzaG93ID8gJ3BhdXNlJyA6ICdwbGF5Jyk7XHJcbiAgICAgICAgc2V0U2hvd01vcmUoc2hvdyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBDb2xsYXBzZWRDb21wb25lbnQgPSBTZWVNb3JlO1xyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgIHtzdG9yeS5zZWVNb3JlICYmIChcclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBzaG93TW9yZSA/ICd1bnNldCcgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogOTk5OSxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBzaG93TW9yZSA/ICcxMDAlJyA6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPENvbGxhcHNlZENvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbj17YWN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZU1vcmU9e3RvZ2dsZU1vcmV9XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NvbnRlbnQ9e3Nob3dNb3JlfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlZU1vcmVDb250ZW50PXtzdG9yeS5zZWVNb3JlfVxyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbUNvbGxhcHNlZD17Y3VzdG9tQ29sbGFwc2VkIHx8IHN0b3J5LnNlZU1vcmVDb2xsYXBzZWR9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgPC8+XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhTZWVNb3JlOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBTcGlubmVyU1ZHIGZyb20gJy4vLi4vYXNzZXRzL3B1ZmYuc3ZnJztcclxuXHJcbmNvbnN0IFNwaW5uZXIgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gPFNwaW5uZXJTVkcgLz5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU3Bpbm5lcjsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBSZWFjdEluc3RhU3Rvcmllc1Byb3BzLCBHbG9iYWxDdHgsIFN0b3J5LCBUZXN0ZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi9pbnRlcmZhY2VzJ1xyXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vY29tcG9uZW50cy9Db250YWluZXInXHJcbmltcG9ydCBHbG9iYWxDb250ZXh0IGZyb20gJy4vY29udGV4dC9HbG9iYWwnXHJcbmltcG9ydCBTdG9yaWVzQ29udGV4dCBmcm9tICcuL2NvbnRleHQvU3Rvcmllcyc7XHJcbmltcG9ydCB7IGdldFJlbmRlcmVyIH0gZnJvbSAnLi91dGlsL3JlbmRlcmVycydcclxuaW1wb3J0IHsgcmVuZGVyZXJzIGFzIGRlZmF1bHRSZW5kZXJlcnMgfSBmcm9tICcuL3JlbmRlcmVycy9pbmRleCc7XHJcbmltcG9ydCB3aXRoSGVhZGVyIGZyb20gJy4vcmVuZGVyZXJzL3dyYXBwZXJzL3dpdGhIZWFkZXInXHJcbmltcG9ydCB3aXRoU2VlTW9yZSBmcm9tICcuL3JlbmRlcmVycy93cmFwcGVycy93aXRoU2VlTW9yZSdcclxuXHJcbmNvbnN0IFJlYWN0SW5zdGFTdG9yaWVzID0gZnVuY3Rpb24gKHByb3BzOiBSZWFjdEluc3RhU3Rvcmllc1Byb3BzKSB7XHJcbiAgICBsZXQgcmVuZGVyZXJzID0gcHJvcHMucmVuZGVyZXJzID8gcHJvcHMucmVuZGVyZXJzLmNvbmNhdChkZWZhdWx0UmVuZGVyZXJzKSA6IGRlZmF1bHRSZW5kZXJlcnM7XHJcbiAgICBsZXQgY29udGV4dDogR2xvYmFsQ3R4ID0ge1xyXG4gICAgICAgIHdpZHRoOiBwcm9wcy53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHByb3BzLmhlaWdodCxcclxuICAgICAgICBsb2FkZXI6IHByb3BzLmxvYWRlcixcclxuICAgICAgICBoZWFkZXI6IHByb3BzLmhlYWRlcixcclxuICAgICAgICBzdG9yeUNvbnRhaW5lclN0eWxlczogcHJvcHMuc3RvcnlDb250YWluZXJTdHlsZXMsXHJcbiAgICAgICAgc3RvcnlTdHlsZXM6IHByb3BzLnN0b3J5U3R5bGVzLFxyXG4gICAgICAgIGxvb3A6IHByb3BzLmxvb3AsXHJcbiAgICAgICAgZGVmYXVsdEludGVydmFsOiBwcm9wcy5kZWZhdWx0SW50ZXJ2YWwsXHJcbiAgICAgICAgaXNQYXVzZWQ6IHByb3BzLmlzUGF1c2VkLFxyXG4gICAgICAgIGN1cnJlbnRJbmRleDogcHJvcHMuY3VycmVudEluZGV4LFxyXG4gICAgICAgIG9uU3RvcnlTdGFydDogcHJvcHMub25TdG9yeVN0YXJ0LFxyXG4gICAgICAgIG9uU3RvcnlFbmQ6IHByb3BzLm9uU3RvcnlFbmQsXHJcbiAgICAgICAgb25BbGxTdG9yaWVzRW5kOiBwcm9wcy5vbkFsbFN0b3JpZXNFbmQsXHJcbiAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW9uOiBwcm9wcy5rZXlib2FyZE5hdmlnYXRpb24sXHJcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IHByb3BzLnByZXZlbnREZWZhdWx0LFxyXG4gICAgICAgIHRvcFN0b3JpZXNQcm9ncmVzc1N0eWxlczogcHJvcHMudG9wU3Rvcmllc1Byb2dyZXNzU3R5bGVzLFxyXG4gICAgfVxyXG4gICAgY29uc3QgW3N0b3JpZXMsIHNldFN0b3JpZXNdID0gdXNlU3RhdGU8eyBzdG9yaWVzOiBTdG9yeVtdIH0+KHsgc3RvcmllczogZ2VuZXJhdGVTdG9yaWVzKHByb3BzLnN0b3JpZXMsIHJlbmRlcmVycykgfSk7XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHNldFN0b3JpZXMoeyBzdG9yaWVzOiBnZW5lcmF0ZVN0b3JpZXMocHJvcHMuc3RvcmllcywgcmVuZGVyZXJzKSB9KTtcclxuICAgIH0sIFtwcm9wcy5zdG9yaWVzLCBwcm9wcy5yZW5kZXJlcnNdKTtcclxuXHJcbiAgICByZXR1cm4gPEdsb2JhbENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxyXG4gICAgICAgIDxTdG9yaWVzQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17c3Rvcmllc30+XHJcbiAgICAgICAgICAgIDxDb250YWluZXIgLz5cclxuICAgICAgICA8L1N0b3JpZXNDb250ZXh0LlByb3ZpZGVyPlxyXG4gICAgPC9HbG9iYWxDb250ZXh0LlByb3ZpZGVyPlxyXG59XHJcblxyXG5jb25zdCBnZW5lcmF0ZVN0b3JpZXMgPSAoc3RvcmllczogU3RvcnlbXSwgcmVuZGVyZXJzOiB7IHJlbmRlcmVyOiBSZW5kZXJlciwgdGVzdGVyOiBUZXN0ZXIgfVtdKSA9PiB7XHJcbiAgICByZXR1cm4gc3Rvcmllcy5tYXAocyA9PiB7XHJcbiAgICAgICAgbGV0IHN0b3J5OiBTdG9yeSA9IHt9O1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHN0b3J5LnVybCA9IHM7XHJcbiAgICAgICAgICAgIHN0b3J5LnR5cGUgPSAnaW1hZ2UnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHN0b3J5ID0gT2JqZWN0LmFzc2lnbihzdG9yeSwgcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVuZGVyZXIgPSBnZXRSZW5kZXJlcihzdG9yeSwgcmVuZGVyZXJzKTtcclxuICAgICAgICBzdG9yeS5vcmlnaW5hbENvbnRlbnQgPSBzdG9yeS5jb250ZW50O1xyXG4gICAgICAgIHN0b3J5LmNvbnRlbnQgPSByZW5kZXJlcjtcclxuICAgICAgICByZXR1cm4gc3RvcnlcclxuICAgIH0pXHJcbn07XHJcblxyXG5SZWFjdEluc3RhU3Rvcmllcy5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICB3aWR0aDogMzYwLFxyXG4gICAgaGVpZ2h0OiA2NDAsXHJcbiAgICBkZWZhdWx0SW50ZXJ2YWw6IDQwMDBcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFdpdGhIZWFkZXIgPSB3aXRoSGVhZGVyO1xyXG5leHBvcnQgY29uc3QgV2l0aFNlZU1vcmUgPSB3aXRoU2VlTW9yZTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlYWN0SW5zdGFTdG9yaWVzIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvR2xvYmFsJ1xyXG5pbXBvcnQgU3Rvcmllc0NvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L1N0b3JpZXMnXHJcbmltcG9ydCBQcm9ncmVzc0NvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L1Byb2dyZXNzJ1xyXG5pbXBvcnQgU3RvcnkgZnJvbSAnLi9TdG9yeSdcclxuaW1wb3J0IFByb2dyZXNzQXJyYXkgZnJvbSAnLi9Qcm9ncmVzc0FycmF5J1xyXG5pbXBvcnQgeyBHbG9iYWxDdHgsIFN0b3JpZXNDb250ZXh0IGFzIFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgW2N1cnJlbnRJZCwgc2V0Q3VycmVudElkXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcclxuICAgIGNvbnN0IFtwYXVzZSwgc2V0UGF1c2VdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcclxuICAgIGNvbnN0IFtidWZmZXJBY3Rpb24sIHNldEJ1ZmZlckFjdGlvbl0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKVxyXG4gICAgY29uc3QgW3ZpZGVvRHVyYXRpb24sIHNldFZpZGVvRHVyYXRpb25dID0gdXNlU3RhdGU8bnVtYmVyPigwKVxyXG5cclxuICAgIGxldCBtb3VzZWRvd25JZCA9IHVzZVJlZjxhbnk+KCk7XHJcbiAgICBsZXQgaXNNb3VudGVkID0gdXNlUmVmPGJvb2xlYW4+KHRydWUpO1xyXG5cclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbG9vcCwgY3VycmVudEluZGV4LCBpc1BhdXNlZCwga2V5Ym9hcmROYXZpZ2F0aW9uLCBwcmV2ZW50RGVmYXVsdCwgc3RvcnlDb250YWluZXJTdHlsZXMgPSB7fSwgb25BbGxTdG9yaWVzRW5kIH0gPSB1c2VDb250ZXh0PEdsb2JhbEN0eD4oR2xvYmFsQ29udGV4dCk7XHJcbiAgICBjb25zdCB7IHN0b3JpZXMgfSA9IHVzZUNvbnRleHQ8U3Rvcmllc0NvbnRleHRJbnRlcmZhY2U+KFN0b3JpZXNDb250ZXh0KTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudEluZGV4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID49IDAgJiYgY3VycmVudEluZGV4IDwgc3Rvcmllcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJZFdyYXBwZXIoKCkgPT4gY3VycmVudEluZGV4KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW5kZXggb3V0IG9mIGJvdW5kcy4gQ3VycmVudCBpbmRleCB3YXMgc2V0IHRvIHZhbHVlIG1vcmUgdGhhbiB0aGUgbGVuZ3RoIG9mIHN0b3JpZXMgYXJyYXkuJywgY3VycmVudEluZGV4KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2N1cnJlbnRJbmRleF0pXHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIGlzUGF1c2VkID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgc2V0UGF1c2UoaXNQYXVzZWQpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2lzUGF1c2VkXSlcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzQ2xpZW50ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCk7XHJcbiAgICAgICAgaWYgKGlzQ2xpZW50ICYmICh0eXBlb2Yga2V5Ym9hcmROYXZpZ2F0aW9uID09PSAnYm9vbGVhbicgJiYga2V5Ym9hcmROYXZpZ2F0aW9uKSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcclxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2tleWJvYXJkTmF2aWdhdGlvbl0pO1xyXG5cclxuICAgIC8vIENsZWFudXAgbW91bnRlZCBzdGF0ZSAtIGZvciBpc3N1ZSAjMTMwIChodHRwczovL2dpdGh1Yi5jb20vbW9oaXRrMDUvcmVhY3QtaW5zdGEtc3Rvcmllcy9pc3N1ZXMvMTMwKVxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBpc01vdW50ZWQuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzKClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xyXG4gICAgICAgICAgICBuZXh0KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG9nZ2xlU3RhdGUgPSAoYWN0aW9uOiBzdHJpbmcsIGJ1ZmZlckFjdGlvbj86IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBzZXRQYXVzZShhY3Rpb24gPT09ICdwYXVzZScpXHJcbiAgICAgICAgc2V0QnVmZmVyQWN0aW9uKCEhYnVmZmVyQWN0aW9uKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNldEN1cnJlbnRJZFdyYXBwZXIgPSAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICBzZXRDdXJyZW50SWQoY2FsbGJhY2spO1xyXG4gICAgICAgIHRvZ2dsZVN0YXRlKCdwYXVzZScsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByZXZpb3VzID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHByZXNzZWRQcmV2aW91c0J1dHRvbldoaWxlRmlyc3RTdG9yeSA9IGN1cnJlbnRJZCA9PT0gMDtcclxuICAgICAgICBwcmVzc2VkUHJldmlvdXNCdXR0b25XaGlsZUZpcnN0U3RvcnkgJiYgb25BbGxTdG9yaWVzRW5kICYmIG9uQWxsU3Rvcmllc0VuZCgpXHJcbiAgICAgICAgc2V0Q3VycmVudElkV3JhcHBlcihwcmV2ID0+IHByZXYgPiAwID8gcHJldiAtIDEgOiBwcmV2KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5leHQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChsb29wKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVOZXh0U3RvcnlJZEZvckxvb3AoKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlTmV4dFN0b3J5SWQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVOZXh0U3RvcnlJZEZvckxvb3AgPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0Q3VycmVudElkV3JhcHBlcihwcmV2ID0+IChwcmV2ICsgMSkgJSBzdG9yaWVzLmxlbmd0aClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVOZXh0U3RvcnlJZCA9ICgpID0+IHtcclxuICAgICAgICBzZXRDdXJyZW50SWRXcmFwcGVyKHByZXYgPT4ge1xyXG4gICAgICAgICAgICBpZiAocHJldiA8IHN0b3JpZXMubGVuZ3RoIC0gMSkgcmV0dXJuIHByZXYgKyAxXHJcbiAgICAgICAgICAgIG9uQWxsU3Rvcmllc0VuZCAmJiBvbkFsbFN0b3JpZXNFbmQodHJ1ZSlcclxuICAgICAgICAgICAgcmV0dXJuIHByZXZcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlYm91bmNlUGF1c2UgPSAoZTogUmVhY3QuTW91c2VFdmVudCB8IFJlYWN0LlRvdWNoRXZlbnQpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBtb3VzZWRvd25JZC5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZVN0YXRlKCdwYXVzZScpXHJcbiAgICAgICAgfSwgMjAwKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1vdXNlVXAgPSAodHlwZTogc3RyaW5nKSA9PiAoZTogUmVhY3QuTW91c2VFdmVudCB8IFJlYWN0LlRvdWNoRXZlbnQpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBtb3VzZWRvd25JZC5jdXJyZW50ICYmIGNsZWFyVGltZW91dChtb3VzZWRvd25JZC5jdXJyZW50KVxyXG4gICAgICAgIGlmIChwYXVzZSkge1xyXG4gICAgICAgICAgICB0b2dnbGVTdGF0ZSgncGxheScpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHlwZSA9PT0gJ25leHQnID8gbmV4dCgpIDogcHJldmlvdXMoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBnZXRWaWRlb0R1cmF0aW9uID0gKGR1cmF0aW9uOiBudW1iZXIpID0+IHtcclxuICAgICAgICBzZXRWaWRlb0R1cmF0aW9uKGR1cmF0aW9uICogMTAwMClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgICAgaWQ9J21haW4tc3RvcnktY29udGFpbmVyJ1xyXG4gICAgICAgICAgICBzdHlsZT17eyAuLi5zdHlsZXMuY29udGFpbmVyLCAuLi5zdG9yeUNvbnRhaW5lclN0eWxlcywgLi4ueyB3aWR0aCwgaGVpZ2h0IH0gfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICAgIDxQcm9ncmVzc0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcclxuICAgICAgICAgICAgICAgIGJ1ZmZlckFjdGlvbjogYnVmZmVyQWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgdmlkZW9EdXJhdGlvbjogdmlkZW9EdXJhdGlvbixcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRJZCxcclxuICAgICAgICAgICAgICAgIHBhdXNlLFxyXG4gICAgICAgICAgICAgICAgbmV4dFxyXG4gICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIDxQcm9ncmVzc0FycmF5IC8+XHJcbiAgICAgICAgICAgIDwvUHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyPlxyXG4gICAgICAgICAgICA8U3RvcnlcclxuICAgICAgICAgICAgICAgIGFjdGlvbj17dG9nZ2xlU3RhdGV9XHJcbiAgICAgICAgICAgICAgICBidWZmZXJBY3Rpb249e2J1ZmZlckFjdGlvbn1cclxuICAgICAgICAgICAgICAgIHBsYXlTdGF0ZT17cGF1c2V9XHJcbiAgICAgICAgICAgICAgICBzdG9yeT17c3Rvcmllc1tjdXJyZW50SWRdfVxyXG4gICAgICAgICAgICAgICAgZ2V0VmlkZW9EdXJhdGlvbj17Z2V0VmlkZW9EdXJhdGlvbn1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgeyFwcmV2ZW50RGVmYXVsdCAmJiA8ZGl2IHN0eWxlPXtzdHlsZXMub3ZlcmxheX0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpb3VzLXN0b3J5LWJ1dHRvblwiIHN0eWxlPXt7IHdpZHRoOiAnNTAlJywgekluZGV4OiA5OTkgfX0gb25Ub3VjaFN0YXJ0PXtkZWJvdW5jZVBhdXNlfSBvbkNsaWNrPXttb3VzZVVwKCdwcmV2aW91cycpfSBvbk1vdXNlRG93bj17ZGVib3VuY2VQYXVzZX0gLz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV4dC1zdG9yeS1idXR0b25cIiBzdHlsZT17eyB3aWR0aDogJzUwJScsIHpJbmRleDogOTk5IH19IG9uVG91Y2hTdGFydD17ZGVib3VuY2VQYXVzZX0gb25DbGljaz17bW91c2VVcCgnbmV4dCcpfSBvbk1vdXNlRG93bj17ZGVib3VuY2VQYXVzZX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB7XHJcbiAgICBjb250YWluZXI6IHtcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgYmFja2dyb3VuZDogJyMxMTEnLFxyXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXHJcbiAgICB9LFxyXG4gICAgb3ZlcmxheToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIGhlaWdodDogJ2luaGVyaXQnLFxyXG4gICAgICAgIHdpZHRoOiAnaW5oZXJpdCcsXHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgU3RvcnlQcm9wcywgR2xvYmFsQ3R4IH0gZnJvbSBcIi4vLi4vaW50ZXJmYWNlc1wiO1xyXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tIFwiLi8uLi9jb250ZXh0L0dsb2JhbFwiO1xyXG5cclxuY29uc3QgU3RvcnkgPSAocHJvcHM6IFN0b3J5UHJvcHMpID0+IHtcclxuXHRjb25zdCBnbG9iYWxDb250ZXh0ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KFxyXG5cdFx0R2xvYmFsQ29udGV4dFxyXG5cdCk7XHJcblxyXG5cdGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbG9hZGVyLCBoZWFkZXIsIHN0b3J5U3R5bGVzIH0gPSBnbG9iYWxDb250ZXh0O1xyXG5cdGNvbnN0IHJlbmRlcmVyTWVzc2FnZUhhbmRsZXIgPSAodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcclxuXHRcdHN3aXRjaCAodHlwZSkge1xyXG5cdFx0XHRjYXNlICdVUERBVEVfVklERU9fRFVSQVRJT04nOlxyXG5cdFx0XHRcdHByb3BzLmdldFZpZGVvRHVyYXRpb24oZGF0YS5kdXJhdGlvbik7XHJcblx0XHRcdFx0cmV0dXJuIHsgYWNrOiAnT0snIGFzICdPSycgfVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29uc3QgZ2V0U3RvcnlDb250ZW50ID0gKCkgPT4ge1xyXG5cdFx0bGV0IElubmVyQ29udGVudCA9IHByb3BzLnN0b3J5LmNvbnRlbnQgYXMgYW55O1xyXG5cdFx0bGV0IGNvbmZpZyA9IHsgd2lkdGgsIGhlaWdodCwgbG9hZGVyLCBoZWFkZXIsIHN0b3J5U3R5bGVzIH07XHJcblx0XHRyZXR1cm4gPElubmVyQ29udGVudFxyXG5cdFx0XHRhY3Rpb249e3Byb3BzLmFjdGlvbn1cclxuXHRcdFx0aXNQYXVzZWQ9e3Byb3BzLnBsYXlTdGF0ZX1cclxuXHRcdFx0c3Rvcnk9e3Byb3BzLnN0b3J5fVxyXG5cdFx0XHRjb25maWc9e2NvbmZpZ31cclxuXHRcdFx0bWVzc2FnZUhhbmRsZXI9e3JlbmRlcmVyTWVzc2FnZUhhbmRsZXJ9XHJcblx0XHQvPlxyXG5cdH07XHJcblx0cmV0dXJuIChcclxuXHRcdDxkaXZcclxuXHRcdFx0c3R5bGU9e3sgLi4uc3R5bGVzLnN0b3J5LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH19XHJcblx0XHQ+XHJcblx0XHRcdHtnZXRTdG9yeUNvbnRlbnQoKX1cclxuXHRcdDwvZGl2PlxyXG5cdCk7XHJcbn07XHJcblxyXG5jb25zdCBzdHlsZXMgPSB7XHJcblx0c3Rvcnk6IHtcclxuXHRcdGRpc3BsYXk6IFwiZmxleFwiLFxyXG5cdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuXHRcdG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG5cdFx0YWxpZ25JdGVtczogXCJjZW50ZXJcIlxyXG5cdH0sXHJcblx0c3RvcnlDb250ZW50OiB7XHJcblx0XHR3aWR0aDogXCJhdXRvXCIsXHJcblx0XHRtYXhXaWR0aDogXCIxMDAlXCIsXHJcblx0XHRtYXhIZWlnaHQ6IFwiMTAwJVwiLFxyXG5cdFx0bWFyZ2luOiBcImF1dG9cIlxyXG5cdH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0b3J5O1xyXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBQcm9ncmVzcyBmcm9tICcuL1Byb2dyZXNzJ1xyXG5pbXBvcnQgeyBQcm9ncmVzc0NvbnRleHQsIEdsb2JhbEN0eCwgU3Rvcmllc0NvbnRleHQgYXMgU3Rvcmllc0NvbnRleHRJbnRlcmZhY2UgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXHJcbmltcG9ydCBQcm9ncmVzc0N0eCBmcm9tICcuLy4uL2NvbnRleHQvUHJvZ3Jlc3MnXHJcbmltcG9ydCBHbG9iYWxDb250ZXh0IGZyb20gJy4vLi4vY29udGV4dC9HbG9iYWwnXHJcbmltcG9ydCBTdG9yaWVzQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvU3RvcmllcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcclxuICAgIGNvbnN0IFtjb3VudCwgc2V0Q291bnRdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxyXG4gICAgY29uc3QgeyBjdXJyZW50SWQsIG5leHQsIHZpZGVvRHVyYXRpb24sIHBhdXNlIH0gPSB1c2VDb250ZXh0PFByb2dyZXNzQ29udGV4dD4oUHJvZ3Jlc3NDdHgpXHJcbiAgICBjb25zdCB7IGRlZmF1bHRJbnRlcnZhbCwgb25TdG9yeUVuZCwgb25TdG9yeVN0YXJ0LCBvbkFsbFN0b3JpZXNFbmQsIHRvcFN0b3JpZXNQcm9ncmVzc1N0eWxlcyB9ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KEdsb2JhbENvbnRleHQpO1xyXG4gICAgY29uc3QgeyBzdG9yaWVzIH0gPSB1c2VDb250ZXh0PFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlPihTdG9yaWVzQ29udGV4dCk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBzZXRDb3VudCgwKVxyXG4gICAgfSwgW2N1cnJlbnRJZCwgc3Rvcmllc10pXHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoIXBhdXNlKSB7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShpbmNyZW1lbnRDb3VudClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50KVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtjdXJyZW50SWQsIHBhdXNlXSlcclxuXHJcbiAgICBsZXQgYW5pbWF0aW9uRnJhbWVJZCA9IHVzZVJlZjxudW1iZXI+KClcclxuXHJcbiAgICBsZXQgY291bnRDb3B5ID0gY291bnQ7XHJcbiAgICBjb25zdCBpbmNyZW1lbnRDb3VudCA9ICgpID0+IHtcclxuICAgICAgICBpZiAoY291bnRDb3B5ID09PSAwKSBzdG9yeVN0YXJ0Q2FsbGJhY2soKVxyXG4gICAgICAgIHNldENvdW50KChjb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gZ2V0Q3VycmVudEludGVydmFsKClcclxuICAgICAgICAgICAgY291bnRDb3B5ID0gY291bnQgKyAoMTAwIC8gKChpbnRlcnZhbCAvIDEwMDApICogNjApKVxyXG4gICAgICAgICAgICByZXR1cm4gY291bnQgKyAoMTAwIC8gKChpbnRlcnZhbCAvIDEwMDApICogNjApKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGNvdW50Q29weSA8IDEwMCkge1xyXG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5jcmVtZW50Q291bnQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3RvcnlFbmRDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudElkID09PSBzdG9yaWVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGFsbFN0b3JpZXNFbmRDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudCk7XHJcbiAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RvcnlTdGFydENhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgIG9uU3RvcnlTdGFydCAmJiBvblN0b3J5U3RhcnQoY3VycmVudElkLCBzdG9yaWVzW2N1cnJlbnRJZF0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RvcnlFbmRDYWxsYmFjayA9ICgpID0+IHtcclxuICAgICAgICBvblN0b3J5RW5kICYmIG9uU3RvcnlFbmQoY3VycmVudElkLCBzdG9yaWVzW2N1cnJlbnRJZF0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYWxsU3Rvcmllc0VuZENhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgIG9uQWxsU3Rvcmllc0VuZCAmJiBvbkFsbFN0b3JpZXNFbmQoY3VycmVudElkLCBzdG9yaWVzKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGdldEN1cnJlbnRJbnRlcnZhbCA9ICgpID0+IHtcclxuICAgICAgICBpZiAoc3Rvcmllc1tjdXJyZW50SWRdLnR5cGUgPT09ICd2aWRlbycpIHJldHVybiB2aWRlb0R1cmF0aW9uXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzdG9yaWVzW2N1cnJlbnRJZF0uZHVyYXRpb24gPT09ICdudW1iZXInKSByZXR1cm4gc3Rvcmllc1tjdXJyZW50SWRdLmR1cmF0aW9uXHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRJbnRlcnZhbFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5zdHlsZXMucHJvZ3Jlc3NBcnIsIC4uLnRvcFN0b3JpZXNQcm9ncmVzc1N0eWxlcyB9fT5cclxuICAgICAgICAgICAge3N0b3JpZXMubWFwKChfLCBpKSA9PlxyXG4gICAgICAgICAgICAgICAgPFByb2dyZXNzXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50PXtjb3VudH1cclxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17MSAvIHN0b3JpZXMubGVuZ3RofVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZT17aSA9PT0gY3VycmVudElkID8gMSA6IChpIDwgY3VycmVudElkID8gMiA6IDApfVxyXG4gICAgICAgICAgICAgICAgLz4pfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB7XHJcbiAgICBwcm9ncmVzc0Fycjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXHJcbiAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBmbGV4V3JhcDogJ3JvdycsXHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgd2lkdGg6ICc5OCUnLFxyXG4gICAgICAgIHBhZGRpbmc6IDUsXHJcbiAgICAgICAgcGFkZGluZ1RvcDogNyxcclxuICAgICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxyXG4gICAgICAgIHpJbmRleDogMTAwMSxcclxuICAgICAgICBmaWx0ZXI6ICdkcm9wLXNoYWRvdygwIDFweCA4cHggIzIyMiknXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgUHJvZ3Jlc3NQcm9wcywgUHJvZ3Jlc3NDb250ZXh0IH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xyXG5pbXBvcnQgUHJvZ3Jlc3NXcmFwcGVyIGZyb20gJy4vUHJvZ3Jlc3NXcmFwcGVyJ1xyXG5pbXBvcnQgUHJvZ3Jlc3NDdHggZnJvbSAnLi8uLi9jb250ZXh0L1Byb2dyZXNzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHByb3BzOiBQcm9ncmVzc1Byb3BzKSA9PiB7XHJcbiAgICBjb25zdCB7IGJ1ZmZlckFjdGlvbiwgcGF1c2UgfSA9IHVzZUNvbnRleHQ8UHJvZ3Jlc3NDb250ZXh0PihQcm9ncmVzc0N0eClcclxuXHJcbiAgICBjb25zdCBnZXRQcm9ncmVzc1N0eWxlID0gKHsgYWN0aXZlIH0pID0+IHtcclxuICAgICAgICBzd2l0Y2ggKGFjdGl2ZSkge1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB3aWR0aDogJzEwMCUnIH1cclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHJhbnNmb3JtOiBgc2NhbGVYKCR7cHJvcHMuY291bnQgLyAxMDB9KWAgfVxyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB3aWR0aDogMCB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB3aWR0aDogMCB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgd2lkdGgsIGFjdGl2ZSB9ID0gcHJvcHNcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPFByb2dyZXNzV3JhcHBlciB3aWR0aD17d2lkdGh9IHBhdXNlPXtwYXVzZX0gYnVmZmVyQWN0aW9uPXtidWZmZXJBY3Rpb259PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyAuLi5nZXRQcm9ncmVzc1N0eWxlKHsgYWN0aXZlIH0pLCAuLi5zdHlsZXMuaW5uZXIgfX0gLz5cclxuICAgICAgICA8L1Byb2dyZXNzV3JhcHBlcj5cclxuICAgIClcclxufVxyXG5cclxuY29uc3Qgc3R5bGVzOiBhbnkgPSB7XHJcbiAgICBpbm5lcjoge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICcjZmZmJyxcclxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogMixcclxuICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICdjZW50ZXIgbGVmdCcsXHJcblxyXG4gICAgICAgIFdlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXHJcbiAgICAgICAgTW96QmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcclxuICAgICAgICBtc0JhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXHJcbiAgICAgICAgYmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcclxuXHJcbiAgICAgICAgV2Via2l0UGVyc3BlY3RpdmU6IDEwMDAsXHJcbiAgICAgICAgTW96UGVyc3BlY3RpdmU6IDEwMDAsXHJcbiAgICAgICAgbXNQZXJzcGVjdGl2ZTogMTAwMCxcclxuICAgICAgICBwZXJzcGVjdGl2ZTogMTAwMFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBQcm9ncmVzc1dyYXBwZXJQcm9wcyB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcclxuXHJcbmNvbnN0IFByb2dyZXNzV3JhcHBlciA9IChwcm9wczogUHJvZ3Jlc3NXcmFwcGVyUHJvcHMpID0+IChcclxuICAgIDxkaXYgc3R5bGU9e3sgLi4uc3R5bGVzLnByb2dyZXNzLCAuLi5nZXRQcm9ncmVzc1dyYXBwZXJTdHlsZShwcm9wcykgfX0+XHJcbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxyXG4gICAgPC9kaXY+XHJcbilcclxuXHJcbmNvbnN0IGdldFByb2dyZXNzV3JhcHBlclN0eWxlID0gKHsgd2lkdGgsIHBhdXNlLCBidWZmZXJBY3Rpb24gfSkgPT4gKHtcclxuICAgIHdpZHRoOiBgJHt3aWR0aCAqIDEwMH0lYCxcclxuICAgIG9wYWNpdHk6IHBhdXNlICYmICFidWZmZXJBY3Rpb24gPyAwIDogMVxyXG59KVxyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG4gICAgcHJvZ3Jlc3M6IHtcclxuICAgICAgICBoZWlnaHQ6IDIsXHJcbiAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBiYWNrZ3JvdW5kOiAnIzU1NScsXHJcbiAgICAgICAgbWFyZ2luOiAyLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogMixcclxuICAgICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSA0MDBtcyBlYXNlLWluLW91dCdcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvZ3Jlc3NXcmFwcGVyIiwiaW1wb3J0IHsgUmVuZGVyZXIsIFN0b3J5LCBUZXN0ZXIgfSBmcm9tIFwiLi4vaW50ZXJmYWNlc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFJlbmRlcmVyID0gKHN0b3J5OiBTdG9yeSwgcmVuZGVyZXJzOiB7IHJlbmRlcmVyOiBSZW5kZXJlciwgdGVzdGVyOiBUZXN0ZXIgfVtdKTogUmVuZGVyZXIgPT4ge1xyXG4gICAgbGV0IHByb2JhYmxlID0gcmVuZGVyZXJzLm1hcChyID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi5yLFxyXG4gICAgICAgICAgICB0ZXN0ZXJSZXN1bHQ6IHIudGVzdGVyKHN0b3J5KVxyXG4gICAgICAgIH1cclxuICAgIH0pLmZpbHRlcihyID0+IHIudGVzdGVyUmVzdWx0LmNvbmRpdGlvbik7XHJcbiAgICBwcm9iYWJsZS5zb3J0KChhLCBiKSA9PiBiLnRlc3RlclJlc3VsdC5wcmlvcml0eSAtIGEudGVzdGVyUmVzdWx0LnByaW9yaXR5KTtcclxuICAgIHJldHVybiBwcm9iYWJsZVswXS5yZW5kZXJlcjtcclxufSIsImltcG9ydCBpbWFnZSBmcm9tICcuL0ltYWdlJztcclxuaW1wb3J0IHZpZGVvIGZyb20gJy4vVmlkZW8nO1xyXG5pbXBvcnQgZGVmYXVsdFJlbmRlcmVyIGZyb20gJy4vRGVmYXVsdCc7XHJcbmltcG9ydCBhdXRvcGxheUNvbnRlbnQgZnJvbSAnLi9BdXRvUGxheUNvbnRlbnQnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlcmVycyA9IFtpbWFnZSwgdmlkZW8sIGF1dG9wbGF5Q29udGVudCwgZGVmYXVsdFJlbmRlcmVyXTtcclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgU3Bpbm5lciBmcm9tICcuLi9jb21wb25lbnRzL1NwaW5uZXInO1xyXG5pbXBvcnQgeyBSZW5kZXJlciwgVGVzdGVyIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJztcclxuaW1wb3J0IFdpdGhIZWFkZXIgZnJvbSAnLi93cmFwcGVycy93aXRoSGVhZGVyJztcclxuaW1wb3J0IFdpdGhTZWVNb3JlIGZyb20gJy4vd3JhcHBlcnMvd2l0aFNlZU1vcmUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyOiBSZW5kZXJlciA9ICh7IHN0b3J5LCBhY3Rpb24sIGlzUGF1c2VkLCBjb25maWcgfSkgPT4ge1xyXG4gICAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbG9hZGVyLCBzdG9yeVN0eWxlcyB9ID0gY29uZmlnO1xyXG4gICAgbGV0IGNvbXB1dGVkU3R5bGVzID0ge1xyXG4gICAgICAgIC4uLnN0eWxlcy5zdG9yeUNvbnRlbnQsXHJcbiAgICAgICAgLi4uKHN0b3J5U3R5bGVzIHx8IHt9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGltYWdlTG9hZGVkID0gKCkgPT4ge1xyXG4gICAgICAgIHNldExvYWRlZCh0cnVlKTtcclxuICAgICAgICBhY3Rpb24oJ3BsYXknKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gPFdpdGhIZWFkZXIgc3Rvcnk9e3N0b3J5fSBnbG9iYWxIZWFkZXI9e2NvbmZpZy5oZWFkZXJ9PlxyXG4gICAgICAgIDxXaXRoU2VlTW9yZSBzdG9yeT17c3Rvcnl9IGFjdGlvbj17YWN0aW9ufT5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3R5bGU9e2NvbXB1dGVkU3R5bGVzfSBzcmM9e3N0b3J5LnVybH0gb25Mb2FkPXtpbWFnZUxvYWRlZH0gLz5cclxuICAgICAgICAgICAgICAgIHshbG9hZGVkICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsIDAsIDAsIDAuOSlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogOSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2NjY1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9hZGVyIHx8IDxTcGlubmVyIC8+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9XaXRoU2VlTW9yZT5cclxuICAgIDwvV2l0aEhlYWRlcj5cclxufVxyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG4gICAgc3Rvcnk6IHtcclxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXHJcbiAgICB9LFxyXG4gICAgc3RvcnlDb250ZW50OiB7XHJcbiAgICAgICAgd2lkdGg6IFwiYXV0b1wiLFxyXG4gICAgICAgIG1heFdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBtYXhIZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogXCJhdXRvXCJcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB0ZXN0ZXI6IFRlc3RlciA9IChzdG9yeSkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjb25kaXRpb246ICFzdG9yeS5jb250ZW50ICYmICghc3RvcnkudHlwZSB8fCBzdG9yeS50eXBlID09PSAnaW1hZ2UnKSxcclxuICAgICAgICBwcmlvcml0eTogMlxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZW5kZXJlcixcclxuICAgIHRlc3RlclxyXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuZXhwb3J0IGRlZmF1bHQgKCh7XG4gIHN0eWxlcyA9IHt9LFxuICAuLi5wcm9wc1xufSkgPT4gPHN2ZyB3aWR0aD1cIjQ0XCIgaGVpZ2h0PVwiNDRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgc3Ryb2tlPVwiI2ZmZlwiIHsuLi5wcm9wc30+PGcgZmlsbD1cIm5vbmVcIiBmaWxsUnVsZT1cImV2ZW5vZGRcIiBzdHJva2VXaWR0aD1cIjJcIj48Y2lyY2xlIGN4PVwiMjJcIiBjeT1cIjIyXCIgcj1cIjFcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwiclwiIGJlZ2luPVwiMHNcIiBkdXI9XCIxLjhzXCIgdmFsdWVzPVwiMTsgMjBcIiBjYWxjTW9kZT1cInNwbGluZVwiIGtleVRpbWVzPVwiMDsgMVwiIGtleVNwbGluZXM9XCIwLjE2NSwgMC44NCwgMC40NCwgMVwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIC8+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cInN0cm9rZS1vcGFjaXR5XCIgYmVnaW49XCIwc1wiIGR1cj1cIjEuOHNcIiB2YWx1ZXM9XCIxOyAwXCIgY2FsY01vZGU9XCJzcGxpbmVcIiBrZXlUaW1lcz1cIjA7IDFcIiBrZXlTcGxpbmVzPVwiMC4zLCAwLjYxLCAwLjM1NSwgMVwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIC8+PC9jaXJjbGU+PGNpcmNsZSBjeD1cIjIyXCIgY3k9XCIyMlwiIHI9XCIxXCI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cInJcIiBiZWdpbj1cIi0wLjlzXCIgZHVyPVwiMS44c1wiIHZhbHVlcz1cIjE7IDIwXCIgY2FsY01vZGU9XCJzcGxpbmVcIiBrZXlUaW1lcz1cIjA7IDFcIiBrZXlTcGxpbmVzPVwiMC4xNjUsIDAuODQsIDAuNDQsIDFcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiAvPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJzdHJva2Utb3BhY2l0eVwiIGJlZ2luPVwiLTAuOXNcIiBkdXI9XCIxLjhzXCIgdmFsdWVzPVwiMTsgMFwiIGNhbGNNb2RlPVwic3BsaW5lXCIga2V5VGltZXM9XCIwOyAxXCIga2V5U3BsaW5lcz1cIjAuMywgMC42MSwgMC4zNTUsIDFcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiAvPjwvY2lyY2xlPjwvZz48L3N2Zz4pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgSGVhZGVyUHJvcHMgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXHJcblxyXG5jb25zdCBIZWFkZXIgPSAoeyBwcm9maWxlSW1hZ2UsIGhlYWRpbmcsIHN1YmhlYWRpbmcgfTogSGVhZGVyUHJvcHMpID0+XHJcbiAgICA8ZGl2IHN0eWxlPXtzdHlsZXMubWFpbn0+XHJcbiAgICAgICAge3Byb2ZpbGVJbWFnZSAmJiA8aW1nIHN0eWxlPXtzdHlsZXMuaW1nfSBzcmM9e3Byb2ZpbGVJbWFnZX0gLz59XHJcbiAgICAgICAgPHNwYW4gc3R5bGU9e3N0eWxlcy50ZXh0fT5cclxuICAgICAgICAgICAgPHAgc3R5bGU9e3N0eWxlcy5oZWFkaW5nfT57aGVhZGluZ308L3A+XHJcbiAgICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuc3ViaGVhZGluZ30+e3N1YmhlYWRpbmd9PC9wPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG4gICAgbWFpbjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xyXG4gICAgfSxcclxuICAgIGltZzoge1xyXG4gICAgICAgIHdpZHRoOiA0MCxcclxuICAgICAgICBoZWlnaHQ6IDQwLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogNDAsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDEwLFxyXG4gICAgICAgIGZpbHRlcjogJ2Ryb3Atc2hhZG93KDAgMHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuNSkpJyxcclxuICAgICAgICBib3JkZXI6ICcycHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJ1xyXG4gICAgfSxcclxuICAgIHRleHQ6IHtcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgZmlsdGVyOiAnZHJvcC1zaGFkb3coMCAwcHggM3B4IHJnYmEoMCwgMCwgMCwgMC45KSknXHJcbiAgICB9LFxyXG4gICAgaGVhZGluZzoge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMXJlbScsXHJcbiAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknLFxyXG4gICAgICAgIG1hcmdpbjogMCxcclxuICAgICAgICBtYXJnaW5Cb3R0b206IDJcclxuICAgIH0sXHJcbiAgICBzdWJoZWFkaW5nOiB7XHJcbiAgICAgICAgZm9udFNpemU6ICcwLjZyZW0nLFxyXG4gICAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJyxcclxuICAgICAgICBtYXJnaW46IDBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvR2xvYmFsJ1xyXG5pbXBvcnQgeyBHbG9iYWxDdHggfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXHJcbmltcG9ydCB7IFNlZU1vcmVQcm9wcyB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlZU1vcmUocHJvcHM6IFNlZU1vcmVQcm9wcykge1xyXG4gICAgY29uc3QgU2VlTW9yZUNvbnRlbnQgPSBwcm9wcy5zZWVNb3JlQ29udGVudDtcclxuICAgIGNvbnN0IEN1c3RvbUNvbGxhcHNlZCA9IHByb3BzLmN1c3RvbUNvbGxhcHNlZDtcclxuXHJcbiAgICBjb25zdCB7IGtleWJvYXJkTmF2aWdhdGlvbiB9ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KEdsb2JhbENvbnRleHQpO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNDbGllbnQgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KTtcclxuICAgICAgICBpZiAoaXNDbGllbnQgJiYgKHR5cGVvZiBrZXlib2FyZE5hdmlnYXRpb24gPT09ICdib29sZWFuJyAmJiBrZXlib2FyZE5hdmlnYXRpb24pKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBba2V5Ym9hcmROYXZpZ2F0aW9uXSlcclxuXHJcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd1VwJykge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICAgICAgcHJvcHMudG9nZ2xlTW9yZSh0cnVlKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93RG93bicgfHwgZS5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgICAgICBwcm9wcy50b2dnbGVNb3JlKGZhbHNlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIHByb3BzLnNob3dDb250ZW50XHJcbiAgICAgICAgICAgID8gPGRpdiBzdHlsZT17c3R5bGVzLnNlZU1vcmVFeHBhbmRlZH0+XHJcbiAgICAgICAgICAgICAgICA8U2VlTW9yZUNvbnRlbnQgY2xvc2U9eygpID0+IHByb3BzLnRvZ2dsZU1vcmUoZmFsc2UpfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAoQ3VzdG9tQ29sbGFwc2VkID8gPEN1c3RvbUNvbGxhcHNlZCBhY3Rpb249e3Byb3BzLmFjdGlvbn0gdG9nZ2xlTW9yZT17cHJvcHMudG9nZ2xlTW9yZX0gLz4gOiA8ZGl2IHN0eWxlPXtzdHlsZXMuc2VlTW9yZX0gb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBwcm9wcy50b2dnbGVNb3JlKHRydWUpXHJcbiAgICAgICAgICAgIH19ID5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMuc2VlTW9yZUljb259PuKMgzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMuc2VlTW9yZVRleHR9PlNlZSBtb3JlPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKVxyXG4gICAgKVxyXG59XHJcblxyXG5jb25zdCBzdHlsZXM6IGFueSA9IHtcclxuICAgIHNlZU1vcmU6IHtcclxuICAgICAgICBoZWlnaHQ6IFwiMTB2aFwiLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFwibGluZWFyLWdyYWRpZW50KHJnYmEoMCwgMCwgMCwgMCksIHJnYmEoMCwgMCwgMCwgMC4yKSlcIixcclxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCIsXHJcbiAgICAgICAgYm90dG9tOiAwXHJcbiAgICB9LFxyXG4gICAgc2VlTW9yZUV4cGFuZGVkOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcclxuICAgICAgICB6SW5kZXg6IDk5OTk5XHJcbiAgICB9LFxyXG4gICAgc2VlTW9yZVRleHQ6IHtcclxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiBcIjAuMWVtXCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjIuMnZoXCIsXHJcbiAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJjYXBpdGFsaXplXCIsXHJcbiAgICAgICAgb3BhY2l0eTogXCIxXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMC44ZW1cIixcclxuICAgICAgICB0cmFuc2l0aW9uOiBcIm9wYWNpdHkgMzAwbXMgZWFzZS1pbi1vdXRcIlxyXG4gICAgfSxcclxuICAgIHNlZU1vcmVJY29uOiB7XHJcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICAgICAgbGV0dGVyU3BhY2luZzogXCIwLjJlbVwiLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIwLjR2aFwiLFxyXG4gICAgICAgIG9wYWNpdHk6IFwiMVwiLFxyXG4gICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwIDAgNXB4IGJsYWNrKVwiLFxyXG4gICAgICAgIHRleHRUcmFuc2Zvcm06IFwiY2FwaXRhbGl6ZVwiLFxyXG4gICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSAzMDBtcyBlYXNlLWluLW91dFwiXHJcbiAgICB9LFxyXG4gICAgc2VlTW9yZUNsb3NlOiB7XHJcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMCAzcHggMnB4ICNjY2MpXCIsXHJcbiAgICAgICAgcmlnaHQ6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgdG9wOiBcIjAuNXJlbVwiLFxyXG4gICAgICAgIGZvbnRTaXplOiBcIjEuNXJlbVwiLFxyXG4gICAgICAgIG9wYWNpdHk6IFwiMC43XCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIxcmVtXCJcclxuICAgIH1cclxufSIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vY29tcG9uZW50cy9TcGlubmVyJztcclxuaW1wb3J0IHsgUmVuZGVyZXIsIFRlc3RlciB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcyc7XHJcbmltcG9ydCBXaXRoSGVhZGVyIGZyb20gJy4vd3JhcHBlcnMvd2l0aEhlYWRlcic7XHJcbmltcG9ydCBXaXRoU2VlTW9yZSBmcm9tICcuL3dyYXBwZXJzL3dpdGhTZWVNb3JlJztcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJlcjogUmVuZGVyZXIgPSAoeyBzdG9yeSwgYWN0aW9uLCBpc1BhdXNlZCwgY29uZmlnLCBtZXNzYWdlSGFuZGxlciB9KSA9PiB7XHJcbiAgICBjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgY29uc3QgW211dGVkLCBzZXRNdXRlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxvYWRlciwgc3RvcnlTdHlsZXMgfSA9IGNvbmZpZztcclxuXHJcbiAgICBsZXQgY29tcHV0ZWRTdHlsZXMgPSB7XHJcbiAgICAgICAgLi4uc3R5bGVzLnN0b3J5Q29udGVudCxcclxuICAgICAgICAuLi4oc3RvcnlTdHlsZXMgfHwge30pXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHZpZCA9IFJlYWN0LnVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmICh2aWQuY3VycmVudCkge1xyXG4gICAgICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIHZpZC5jdXJyZW50LnBhdXNlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2aWQuY3VycmVudC5wbGF5KCkuY2F0Y2goKCkgPT4geyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtpc1BhdXNlZF0pO1xyXG5cclxuICAgIGNvbnN0IG9uV2FpdGluZyA9ICgpID0+IHtcclxuICAgICAgICBhY3Rpb24oXCJwYXVzZVwiLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvblBsYXlpbmcgPSAoKSA9PiB7XHJcbiAgICAgICAgYWN0aW9uKFwicGxheVwiLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB2aWRlb0xvYWRlZCA9ICgpID0+IHtcclxuICAgICAgICBtZXNzYWdlSGFuZGxlcignVVBEQVRFX1ZJREVPX0RVUkFUSU9OJywgeyBkdXJhdGlvbjogdmlkLmN1cnJlbnQuZHVyYXRpb24gfSk7XHJcbiAgICAgICAgc2V0TG9hZGVkKHRydWUpO1xyXG4gICAgICAgIHZpZC5jdXJyZW50LnBsYXkoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgYWN0aW9uKCdwbGF5Jyk7XHJcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRNdXRlZCh0cnVlKTtcclxuICAgICAgICAgICAgdmlkLmN1cnJlbnQucGxheSgpLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uKCdwbGF5Jyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDxXaXRoSGVhZGVyIHN0b3J5PXtzdG9yeX0gZ2xvYmFsSGVhZGVyPXtjb25maWcuaGVhZGVyfT5cclxuICAgICAgICA8V2l0aFNlZU1vcmUgc3Rvcnk9e3N0b3J5fSBhY3Rpb249e2FjdGlvbn0+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy52aWRlb0NvbnRhaW5lcn0+XHJcbiAgICAgICAgICAgICAgICA8dmlkZW9cclxuICAgICAgICAgICAgICAgICAgICByZWY9e3ZpZH1cclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17Y29tcHV0ZWRTdHlsZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtzdG9yeS51cmx9XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHM9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTG9hZGVkRGF0YT17dmlkZW9Mb2FkZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheXNJbmxpbmVcclxuICAgICAgICAgICAgICAgICAgICBvbldhaXRpbmc9e29uV2FpdGluZ31cclxuICAgICAgICAgICAgICAgICAgICBvblBsYXlpbmc9e29uUGxheWluZ31cclxuICAgICAgICAgICAgICAgICAgICBtdXRlZD17bXV0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b1BsYXlcclxuICAgICAgICAgICAgICAgICAgICB3ZWJraXQtcGxheXNpbmxpbmU9XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICB7IWxvYWRlZCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwicmdiYSgwLCAwLCAwLCAwLjkpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNjY2NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2xvYWRlciB8fCA8U3Bpbm5lciAvPn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvV2l0aFNlZU1vcmU+XHJcbiAgICA8L1dpdGhIZWFkZXI+XHJcbn1cclxuXHJcbmNvbnN0IHN0eWxlcyA9IHtcclxuICAgIHN0b3J5Q29udGVudDoge1xyXG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcclxuICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICBtYXJnaW46IFwiYXV0b1wiXHJcbiAgICB9LFxyXG4gICAgdmlkZW9Db250YWluZXI6IHtcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdGVzdGVyOiBUZXN0ZXIgPSAoc3RvcnkpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY29uZGl0aW9uOiBzdG9yeS50eXBlID09PSAndmlkZW8nLFxyXG4gICAgICAgIHByaW9yaXR5OiAyXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlbmRlcmVyLFxyXG4gICAgdGVzdGVyXHJcbn1cclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBSZW5kZXJlciwgVGVzdGVyIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJlcjogUmVuZGVyZXIgPSAoeyBzdG9yeSwgYWN0aW9uIH0pID0+IHtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgYWN0aW9uKCdwbGF5Jyk7XHJcbiAgICB9LCBbc3RvcnldKVxyXG5cclxuICAgIHJldHVybiA8ZGl2IHN0eWxlPXtzdHlsZXMuc3RvcnlDb250ZW50fT5cclxuICAgICAgICA8cCBzdHlsZT17c3R5bGVzLnRleHR9PlRoaXMgc3RvcnkgY291bGQgbm90IGJlIGxvYWRlZC48L3A+XHJcbiAgICA8L2Rpdj5cclxufVxyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG4gICAgc3RvcnlDb250ZW50OiB7XHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgbWFyZ2luOiBcImF1dG9cIlxyXG4gICAgfSxcclxuICAgIHRleHQ6IHtcclxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgIGNvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgIHdpZHRoOiAnOTAlJyxcclxuICAgICAgICBtYXJnaW46ICdhdXRvJ1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHRlc3RlcjogVGVzdGVyID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjb25kaXRpb246IHRydWUsXHJcbiAgICAgICAgcHJpb3JpdHk6IDFcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlbmRlcmVyLFxyXG4gICAgdGVzdGVyXHJcbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFJlbmRlcmVyLCBUZXN0ZXIgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyOiBSZW5kZXJlciA9IChwcm9wcykgPT4ge1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBwcm9wcy5hY3Rpb24oJ3BsYXknKTtcclxuICAgIH0sIFtwcm9wcy5zdG9yeV0pXHJcbiAgICBjb25zdCBDb250ZW50ID0gcHJvcHMuc3Rvcnkub3JpZ2luYWxDb250ZW50O1xyXG4gICAgcmV0dXJuIDxDb250ZW50IHsuLi5wcm9wc30gLz5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHRlc3RlcjogVGVzdGVyID0gKHN0b3J5KSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbmRpdGlvbjogISFzdG9yeS5jb250ZW50LFxyXG4gICAgICAgIHByaW9yaXR5OiAyXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlbmRlcmVyLFxyXG4gICAgdGVzdGVyXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9